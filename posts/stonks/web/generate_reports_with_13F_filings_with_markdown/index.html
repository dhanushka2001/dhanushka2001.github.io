<!DOCTYPE html><html lang="en"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Building a report with 13F filings - Dhanushka&#39;s Blog</title><meta name="description" content="sec filings with python and secedgar"><meta name="author" content="Dhanushka Jayagoda"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/index.B_2FsOPP.css" />
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}@media print{.no-print,.no-print *{display:none!important}}
</style><script type="module" src="/_astro/hoisted.UksxmqGZ.js"></script></head> <body class="bg-slate-900 text-gray-100"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8P5P8FQ" height="0" width="0" style="display:none;visibility:hidden"></iframe> </noscript> <!-- End Google Tag Manager (noscript) --> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>Dhanushka&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/dhanushka2001/blog-astro">GitHub</a></li><li class="hover:text-white"><a href="/photos">Photos</a></li></ul></nav></div></div> <div data-pagefind-body>  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="kqAui" prefix="r3" component-url="/_astro/BlogPost._FxswCuE.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Building a report with 13F filings&quot;],&quot;description&quot;:[0,&quot;sec filings with python and secedgar&quot;],&quot;alt&quot;:[0,&quot;Applying nlp to various youtube videos&quot;],&quot;pubDate&quot;:[0,&quot;Friday, 14 April 2023 13:00:00 GMT&quot;],&quot;tags&quot;:[1,[[0,&quot;sec&quot;],[0,&quot;python&quot;],[0,&quot;secedgar&quot;]]],&quot;imgSrc&quot;:[0,&quot;/imgs/2022/dall-e/DALL·E 2022-12-10 21.55.07 - magnifying glass on stonks.png&quot;],&quot;imgAlt&quot;:[0,&quot;rbc stock analyzer&quot;],&quot;authors&quot;:[1,[[0,&quot;David Li&quot;]]],&quot;file&quot;:[0,&quot;/home/runner/work/blog-astro/blog-astro/src/pages/posts/stonks/web/generate_reports_with_13F_filings_with_markdown.md&quot;],&quot;url&quot;:[0,&quot;/posts/stonks/web/generate_reports_with_13F_filings_with_markdown&quot;]}]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;BlogPost&quot;,&quot;value&quot;:true}" await-children=""><div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">Building a report with 13F filings</h1><div class="text-center text-sm text-gray-400"><div class="mt-1">Published:<!-- --> <!-- -->Apr 14, 2023</div><div class="mt-2 flex flex-wrap items-center justify-center gap-4"><div class="flex items-center space-x-2"><img src="/assets/images/avatars/david.png" alt="David Li" class="h-6 w-6 rounded-full object-cover" loading="lazy"/><a href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer" class="hover:underline">David Li</a></div></div></div><div class="flex place-content-center pt-2"><div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/sec" style="padding-right:3px"> <category>sec<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-green-400 text-green-900"> <a href="/tags/python" style="padding-right:3px"> <category>python<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/secedgar" style="padding-right:3px"> <category>secedgar<!-- --> </category></a></div> </div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-h-2 aspect-w-3"><img class="h-full w-full rounded-lg object-cover object-center" src="/imgs/2022/dall-e/DALL·E 2022-12-10 21.55.07 - magnifying glass on stonks.png" alt="rbc stock analyzer" loading="lazy"/></div><div class="prose prose-invert mt-6 prose-img:rounded-lg"><content><astro-slot> <p>View the previous post at <a href="https://friendlyuser.github.io/posts/stonks/scrap_from_sec_with_python">https://friendlyuser.github.io/posts/stonks/scrap_from_sec_with_python</a></p>
<p>This code fetches 13F filings for a list of companies from the Securities and Exchange Commission’s (SEC) Electronic Data Gathering, Analysis, and Retrieval (EDGAR) system. 13F filings are quarterly reports that detail the holdings of investment managers with at least $100 million in assets. The filings function from the secedgar library is used to retrieve these 13F filings, and the get_company_of_interest function acts as a filter to only return the 13F filings for the companies specified in the company_list variable. This list is read from the holdings_list.txt file. The fetch_filings function uses the save method of the combo_filings object to save the retrieved 13F filings to the temp folder. The get_year_quarter_from_path function extracts the year and quarter from the path of a file and returns them as a tuple of strings.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">from</span><span style="color:#F8F8F2"> secedgar </span><span style="color:#F92672">import</span><span style="color:#F8F8F2"> filings, FilingType</span></span>
<span class="line"><span style="color:#F92672">from</span><span style="color:#F8F8F2"> datetime </span><span style="color:#F92672">import</span><span style="color:#F8F8F2"> date</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> glob</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> matplotlib.pyplot </span><span style="color:#F92672">as</span><span style="color:#F8F8F2"> plt</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> seaborn </span><span style="color:#F92672">as</span><span style="color:#F8F8F2"> sns</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> re</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> pandas </span><span style="color:#F92672">as</span><span style="color:#F8F8F2"> pd</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> json</span></span>
<span class="line"><span style="color:#F92672">from</span><span style="color:#F8F8F2"> typing </span><span style="color:#F92672">import</span><span style="color:#F8F8F2"> List</span></span>
<span class="line"><span style="color:#F92672">from</span><span style="color:#F8F8F2"> parser </span><span style="color:#F92672">import</span><span style="color:#F8F8F2"> DocParser</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F"># read company list from holdings_list.txt</span></span>
<span class="line"><span style="color:#F92672">with</span><span style="color:#66D9EF"> open</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"holdings_list.txt"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"r"</span><span style="color:#F8F8F2">) </span><span style="color:#F92672">as</span><span style="color:#F8F8F2"> f:</span></span>
<span class="line"><span style="color:#F8F8F2">    holdings_list </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> f.read().splitlines()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">company_list </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> holdings_list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">def</span><span style="color:#A6E22E"> get_company_of_interest</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">filing_entry</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#E6DB74"> "13F"</span><span style="color:#F92672"> in</span><span style="color:#F8F8F2"> filing_entry.form_type </span><span style="color:#F92672">and</span><span style="color:#F8F8F2"> filing_entry.company_name.lower() </span><span style="color:#F92672">in</span><span style="color:#F8F8F2"> (name.lower() </span><span style="color:#F92672">for</span><span style="color:#F8F8F2"> name </span><span style="color:#F92672">in</span><span style="color:#F8F8F2"> company_list):</span></span>
<span class="line"><span style="color:#F8F8F2">        company_list.append(filing_entry.company_name)</span></span>
<span class="line"><span style="color:#F92672">        return</span><span style="color:#AE81FF"> True</span></span>
<span class="line"><span style="color:#F92672">    return</span><span style="color:#AE81FF"> False</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">def</span><span style="color:#A6E22E"> fetch_filings</span><span style="color:#F8F8F2">():</span></span>
<span class="line"><span style="color:#88846F">    # 13F filings for Apple (ticker "aapl")</span></span>
<span class="line"><span style="color:#88846F">    # read list from holdings_list.txt</span></span>
<span class="line"><span style="color:#F8F8F2">    combo_filings </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> filings(</span><span style="color:#FD971F;font-style:italic">start_date</span><span style="color:#F92672">=</span><span style="color:#F8F8F2">date(</span><span style="color:#AE81FF">2022</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic">                             end_date</span><span style="color:#F92672">=</span><span style="color:#F8F8F2">date(</span><span style="color:#AE81FF">2022</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">12</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">20</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#88846F">                             # filing_type=FilingType.FILING_13F,</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic">                             user_agent</span><span style="color:#F92672">=</span><span style="color:#E6DB74">"Your name &#x3C;dlcoding20@gmail.com>"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic">                             entry_filter</span><span style="color:#F92672">=</span><span style="color:#F8F8F2">get_company_of_interest,</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic">                             rate_limit</span><span style="color:#F92672">=</span><span style="color:#AE81FF">5</span></span>
<span class="line"><span style="color:#F8F8F2">    )</span></span>
<span class="line"><span style="color:#88846F">    # map folder to year and quarter</span></span>
<span class="line"><span style="color:#F8F8F2">    combo_filings.save(</span><span style="color:#E6DB74">"temp"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">def</span><span style="color:#A6E22E"> get_year_quarter_from_path</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">path</span><span style="color:#F8F8F2">: </span><span style="color:#66D9EF;font-style:italic">str</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#E6DB74">    """ Get year and quarter from path</span></span>
<span class="line"><span style="color:#E6DB74">    """</span></span>
<span class="line"><span style="color:#88846F">    # get all numbers from path using regex</span></span>
<span class="line"><span style="color:#F8F8F2">    year, quarter </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> re.findall(</span><span style="color:#66D9EF;font-style:italic">r</span><span style="color:#E6DB74">'\d</span><span style="color:#F92672">+</span><span style="color:#E6DB74">'</span><span style="color:#F8F8F2">, path)[</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">:</span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#F92672">    return</span><span style="color:#F8F8F2"> year, quarter</span></span></code></pre>
<p>This code appears to be parsing 13F filing documents and outputting the results to a file in markdown format. The parse_filings function takes a dictionary of data (data) as input and retrieves a company’s CIK number (a unique identifier assigned by the SEC to publicly traded companies) from the cik field in the data dictionary. If the cik field is not present, it defaults to “1649339”. It also retrieves the desired output filename from the filename field in the data dictionary, defaulting to “burry” if the field is not present. The function then uses the glob library to find all the text files under the temp folder that match the specified CIK number and stores their filenames in the filename variable. It uses the DocParser class to parse each file and filters the resulting documents for those of type “INFORMATION_TABLE”. It then adds the year and quarter of each document to its data frame and stores the resulting document in the final_docs list. If the final_docs list has four elements, the loop breaks. Finally, the function sorts the elements of final_docs by quarter and calls the output_to_md function to output the data to a markdown file. The metadata dictionary stores some metadata about the 13F filing that is included in the output file.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">def</span><span style="color:#A6E22E"> parse_filings</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">data</span><span style="color:#F8F8F2">: </span><span style="color:#66D9EF;font-style:italic">dict</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> {}):</span></span>
<span class="line"><span style="color:#E6DB74">    """ Parse filings</span></span>
<span class="line"><span style="color:#E6DB74">    """</span></span>
<span class="line"><span style="color:#F8F8F2">    cik </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> data.get(</span><span style="color:#E6DB74">"cik"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"1649339"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    output_name </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> data.get(</span><span style="color:#E6DB74">"filename"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"burry"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#88846F">    # find files under temp/2022/QTR{1,2,3,4}/*.txt with glob</span></span>
<span class="line"><span style="color:#F8F8F2">    final_docs </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> []</span></span>
<span class="line"><span style="color:#F92672">    for</span><span style="color:#F8F8F2"> filename </span><span style="color:#F92672">in</span><span style="color:#F8F8F2"> glob.iglob(</span><span style="color:#66D9EF;font-style:italic">f</span><span style="color:#E6DB74">'temp/2022/QTR*/</span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">cik</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">/*.txt'</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">recursive</span><span style="color:#F92672">=</span><span style="color:#AE81FF">True</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#F8F8F2">        documents </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> DocParser(filename, </span><span style="color:#E6DB74">"13F"</span><span style="color:#F8F8F2">).parse()</span></span>
<span class="line"><span style="color:#88846F">        # filter for INFORMATION_TABLE</span></span>
<span class="line"><span style="color:#F92672">        for</span><span style="color:#F8F8F2"> document </span><span style="color:#F92672">in</span><span style="color:#F8F8F2"> documents:</span></span>
<span class="line"><span style="color:#F92672">            if</span><span style="color:#F8F8F2"> document[</span><span style="color:#E6DB74">"type"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">==</span><span style="color:#E6DB74"> "INFORMATION_TABLE"</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#F8F8F2">                document[</span><span style="color:#E6DB74">"filename"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> filename</span></span>
<span class="line"><span style="color:#88846F">                # add year and quarter to document</span></span>
<span class="line"><span style="color:#F8F8F2">                year, quarter </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> get_year_quarter_from_path(filename)</span></span>
<span class="line"><span style="color:#F8F8F2">                temp_df </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> document[</span><span style="color:#E6DB74">"df"</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#88846F">                # add year quarter to df</span></span>
<span class="line"><span style="color:#F8F8F2">                temp_df[</span><span style="color:#E6DB74">"year"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> year</span></span>
<span class="line"><span style="color:#F8F8F2">                temp_df[</span><span style="color:#E6DB74">"quarter"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> quarter</span></span>
<span class="line"><span style="color:#F8F8F2">                final_docs.append(document)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">        if</span><span style="color:#66D9EF"> len</span><span style="color:#F8F8F2">(final_docs) </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> 4</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#F92672">            break</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">    # sort by quarter</span></span>
<span class="line"><span style="color:#F8F8F2">    final_docs </span><span style="color:#F92672">=</span><span style="color:#66D9EF"> sorted</span><span style="color:#F8F8F2">(final_docs, </span><span style="color:#FD971F;font-style:italic">key</span><span style="color:#F92672">=</span><span style="color:#66D9EF;font-style:italic">lambda</span><span style="color:#FD971F;font-style:italic"> x</span><span style="color:#F8F8F2">: x[</span><span style="color:#E6DB74">"df"</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"quarter"</span><span style="color:#F8F8F2">].iloc[</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">])</span></span>
<span class="line"><span style="color:#F8F8F2">    </span></span>
<span class="line"><span style="color:#F8F8F2">    metadata </span><span style="color:#F92672">=</span><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#E6DB74">        "filename"</span><span style="color:#F8F8F2">: </span><span style="color:#66D9EF;font-style:italic">f</span><span style="color:#E6DB74">"</span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">output_name</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">.md"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#E6DB74">        "company_name"</span><span style="color:#F8F8F2">: data.get(</span><span style="color:#E6DB74">"outputLabel"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"Burry"</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#E6DB74">        "category"</span><span style="color:#F8F8F2">: </span><span style="color:#E6DB74">"13F"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#E6DB74">        "date"</span><span style="color:#F8F8F2">: </span><span style="color:#E6DB74">"2022-12-21"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#E6DB74">        "start_date"</span><span style="color:#F8F8F2">: </span><span style="color:#E6DB74">"2022-01-01"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#E6DB74">        "end_date"</span><span style="color:#F8F8F2">: </span><span style="color:#E6DB74">"2022-12-20"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#E6DB74">        "cik"</span><span style="color:#F8F8F2">: cik,</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#88846F">    # eventually parse all this from a metadata yaml file or json file</span></span>
<span class="line"><span style="color:#F8F8F2">    output_to_md(final_docs, metadata)</span></span></code></pre>
<p>This code appears to be processing and outputting data from 13F filing documents. The output_to_md function takes a list of data frames (final_docs) and a dictionary of metadata (metadata) as input. It first combines all the data frames in final_docs into a single data frame called combined_df. It then groups combined_df by the cusip column and stores the resulting data frame in grouped_df. It then extracts the last two quarters of data from final_docs and stores them in a data frame called last_two_quarters. It then converts the value column in last_two_quarters to numeric values and pivots the data frame by nameOfIssuer and quarter, storing the resulting data frame in pivot_df. It then plots pivot_df as a bar chart and saves the chart to a file. It then merges the last two quarters of data from final_docs using the pd.merge function and stores the resulting data frame in last_two_quarter_diff.</p>
<p>The function then opens a file with the name specified in the filename field of the metadata dictionary and writes some metadata and the pivoted data frame to it in markdown format. It also writes the data from each data frame in final_docs to the file, grouped by cusip. Finally, it writes the merged data frame (last_two_quarter_diff) to the file in markdown format.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">def</span><span style="color:#A6E22E"> output_to_md</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">final_docs</span><span style="color:#F8F8F2">: List[pd.DataFrame], </span><span style="color:#FD971F;font-style:italic">metadata</span><span style="color:#F8F8F2">: </span><span style="color:#66D9EF;font-style:italic">dict</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#E6DB74">    """ Output dataframe to markdown file</span></span>
<span class="line"><span style="color:#E6DB74">    """</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">    combined_df </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> None</span></span>
<span class="line"><span style="color:#88846F">    # iterate across final_docs and append them all</span></span>
<span class="line"><span style="color:#F92672">    for</span><span style="color:#F8F8F2"> doc </span><span style="color:#F92672">in</span><span style="color:#F8F8F2"> final_docs:</span></span>
<span class="line"><span style="color:#F92672">        if</span><span style="color:#F8F8F2"> combined_df </span><span style="color:#F92672">is</span><span style="color:#AE81FF"> None</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#F8F8F2">            combined_df </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> doc[</span><span style="color:#E6DB74">"df"</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#F92672">        else</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#88846F">            # pandas.concat</span></span>
<span class="line"><span style="color:#F8F8F2">            combined_df </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pd.concat([combined_df, doc[</span><span style="color:#E6DB74">"df"</span><span style="color:#F8F8F2">]])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">    # combine df then group by cusip</span></span>
<span class="line"><span style="color:#F8F8F2">    grouped_df </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> combined_df.groupby(</span><span style="color:#E6DB74">"cusip"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">    # get 2nd last element in list</span></span>
<span class="line"><span style="color:#F8F8F2">    last_quarter </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> final_docs[</span><span style="color:#F92672">-</span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#F8F8F2">    current_quarter </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> final_docs[</span><span style="color:#F92672">-</span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">    filename </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> metadata[</span><span style="color:#E6DB74">"filename"</span><span style="color:#F8F8F2">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">    csv_filename </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> filename.replace(</span><span style="color:#E6DB74">".md"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">".csv"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#88846F">    # write to csv</span></span>
<span class="line"><span style="color:#F8F8F2">    combined_df.to_csv(csv_filename, </span><span style="color:#FD971F;font-style:italic">index</span><span style="color:#F92672">=</span><span style="color:#AE81FF">False</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    merge_df </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pd.merge(last_quarter[</span><span style="color:#E6DB74">"df"</span><span style="color:#F8F8F2">], current_quarter[</span><span style="color:#E6DB74">"df"</span><span style="color:#F8F8F2">], </span><span style="color:#FD971F;font-style:italic">how</span><span style="color:#F92672">=</span><span style="color:#E6DB74">"outer"</span><span style="color:#F8F8F2">) </span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">    # quarterly_df = combined_df.groupby("quarter")</span></span>
<span class="line"><span style="color:#88846F">    # append last two quarters</span></span>
<span class="line"><span style="color:#F8F8F2">    last_two_quarters </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pd.concat([last_quarter[</span><span style="color:#E6DB74">"df"</span><span style="color:#F8F8F2">], current_quarter[</span><span style="color:#E6DB74">"df"</span><span style="color:#F8F8F2">]])</span></span>
<span class="line"><span style="color:#F8F8F2">    last_two_quarters </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> last_two_quarters[[</span><span style="color:#E6DB74">"quarter"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"nameOfIssuer"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"value"</span><span style="color:#F8F8F2">]]</span></span>
<span class="line"><span style="color:#88846F">    # plot ax grouped by quarter</span></span>
<span class="line"><span style="color:#88846F">    # make value numeric</span></span>
<span class="line"><span style="color:#88846F">    # use .loc[row_indexer, col_indexer]</span></span>
<span class="line"><span style="color:#F8F8F2">    last_two_quarters.loc[:, </span><span style="color:#E6DB74">"value"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pd.to_numeric(last_two_quarters[</span><span style="color:#E6DB74">"value"</span><span style="color:#F8F8F2">])</span></span>
<span class="line"><span style="color:#F8F8F2">    png_filename </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> filename.replace(</span><span style="color:#E6DB74">".md"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">".png"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">    # make pivot table</span></span>
<span class="line"><span style="color:#F8F8F2">    pivot_df </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> last_two_quarters.pivot(</span><span style="color:#FD971F;font-style:italic">index</span><span style="color:#F92672">=</span><span style="color:#E6DB74">"nameOfIssuer"</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">columns</span><span style="color:#F92672">=</span><span style="color:#E6DB74">"quarter"</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">values</span><span style="color:#F92672">=</span><span style="color:#E6DB74">"value"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#88846F">    # plot pivot table</span></span>
<span class="line"><span style="color:#88846F">    # first color red, second color blue</span></span>
<span class="line"><span style="color:#F8F8F2">    ax </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pivot_df.plot(</span><span style="color:#FD971F;font-style:italic">kind</span><span style="color:#F92672">=</span><span style="color:#E6DB74">"bar"</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">color</span><span style="color:#F92672">=</span><span style="color:#F8F8F2">[</span><span style="color:#E6DB74">"blue"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"green"</span><span style="color:#F8F8F2">])</span></span>
<span class="line"><span style="color:#88846F">    # make image big enough for labels</span></span>
<span class="line"><span style="color:#F8F8F2">    ax.figure.savefig(png_filename, </span><span style="color:#FD971F;font-style:italic">bbox_inches</span><span style="color:#F92672">=</span><span style="color:#E6DB74">"tight"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">    # quarter diff combined</span></span>
<span class="line"><span style="color:#F8F8F2">    last_two_quarter_diff </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pd.merge(last_quarter[</span><span style="color:#E6DB74">"df"</span><span style="color:#F8F8F2">], current_quarter[</span><span style="color:#E6DB74">"df"</span><span style="color:#F8F8F2">], </span><span style="color:#FD971F;font-style:italic">how</span><span style="color:#F92672">=</span><span style="color:#E6DB74">"outer"</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">indicator</span><span style="color:#F92672">=</span><span style="color:#AE81FF">True</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F92672">    with</span><span style="color:#66D9EF"> open</span><span style="color:#F8F8F2">(filename, </span><span style="color:#E6DB74">"w"</span><span style="color:#F8F8F2">) </span><span style="color:#F92672">as</span><span style="color:#F8F8F2"> f:</span></span>
<span class="line"><span style="color:#F8F8F2">        f.write(</span><span style="color:#66D9EF;font-style:italic">f</span><span style="color:#E6DB74">"Title: </span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">metadata[</span><span style="color:#E6DB74">'company_name'</span><span style="color:#F8F8F2">]</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74"> - </span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">metadata[</span><span style="color:#E6DB74">'cik'</span><span style="color:#F8F8F2">]</span><span style="color:#AE81FF">}</span><span style="color:#AE81FF"> \n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        f.write(</span><span style="color:#66D9EF;font-style:italic">f</span><span style="color:#E6DB74">"Date: </span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">metadata[</span><span style="color:#E6DB74">'date'</span><span style="color:#F8F8F2">]</span><span style="color:#AE81FF">}</span><span style="color:#AE81FF"> \n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        f.write(</span><span style="color:#66D9EF;font-style:italic">f</span><span style="color:#E6DB74">"Category: </span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">metadata[</span><span style="color:#E6DB74">'category'</span><span style="color:#F8F8F2">]</span><span style="color:#AE81FF">}</span><span style="color:#AE81FF"> \n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#88846F">        # merge df</span></span>
<span class="line"><span style="color:#F8F8F2">        f.write(</span><span style="color:#E6DB74">"## Quarterly holdings </span><span style="color:#AE81FF">\n\n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">        # write png_filename</span></span>
<span class="line"><span style="color:#F8F8F2">        f.write(</span><span style="color:#66D9EF;font-style:italic">f</span><span style="color:#E6DB74">"![quarterly holdings](</span><span style="color:#AE81FF">{{</span><span style="color:#E6DB74">attach</span><span style="color:#AE81FF">}}</span><span style="color:#E6DB74">images/</span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">png_filename</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">) </span><span style="color:#AE81FF">\n\n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        f.write(</span><span style="color:#E6DB74">"uses last two quarters to compare </span><span style="color:#AE81FF">\n\n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        f.write(</span><span style="color:#66D9EF;font-style:italic">f</span><span style="color:#E6DB74">"## All tables </span><span style="color:#AE81FF">\n\n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#88846F">        # write all tables</span></span>
<span class="line"><span style="color:#F8F8F2">        reduced_df </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> combined_df[[</span><span style="color:#E6DB74">"nameOfIssuer"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"value"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"sshPrnamt"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"sshPrnamtType"</span><span style="color:#F8F8F2">,  </span><span style="color:#E6DB74">"year"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"quarter"</span><span style="color:#F8F8F2">]]</span></span>
<span class="line"><span style="color:#88846F">        # if combined_df has putCall column</span></span>
<span class="line"><span style="color:#F92672">        if</span><span style="color:#E6DB74"> "putCall"</span><span style="color:#F92672"> in</span><span style="color:#F8F8F2"> combined_df.columns:</span></span>
<span class="line"><span style="color:#F8F8F2">            reduced_df[</span><span style="color:#E6DB74">"putCall"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> combined_df[</span><span style="color:#E6DB74">"putCall"</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#F8F8F2">        f.write(reduced_df.to_markdown(</span><span style="color:#FD971F;font-style:italic">index</span><span style="color:#F92672">=</span><span style="color:#AE81FF">False</span><span style="color:#F8F8F2">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        f.write(</span><span style="color:#E6DB74">"</span><span style="color:#AE81FF">\n\n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#88846F">        # write header</span></span>
<span class="line"><span style="color:#F8F8F2">        f.write(</span><span style="color:#E6DB74">"## Tables by cusip </span><span style="color:#AE81FF">\n\n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F92672">        for</span><span style="color:#F8F8F2"> cusip, group </span><span style="color:#F92672">in</span><span style="color:#F8F8F2"> grouped_df:</span></span>
<span class="line"><span style="color:#F8F8F2">            f.write(</span><span style="color:#E6DB74">"</span><span style="color:#AE81FF">\n</span><span style="color:#AE81FF"> \n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">            f.write(</span><span style="color:#66D9EF;font-style:italic">f</span><span style="color:#E6DB74">"### </span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">cusip</span><span style="color:#AE81FF">}</span><span style="color:#AE81FF"> \n\n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">            simple_group </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> group[[</span><span style="color:#E6DB74">"nameOfIssuer"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"value"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"sshPrnamt"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"sshPrnamtType"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"year"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"quarter"</span><span style="color:#F8F8F2">]]</span></span>
<span class="line"><span style="color:#F92672">            if</span><span style="color:#E6DB74"> "putCall"</span><span style="color:#F92672"> in</span><span style="color:#F8F8F2"> group.columns:</span></span>
<span class="line"><span style="color:#F8F8F2">                simple_group[</span><span style="color:#E6DB74">"putCall"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> group[</span><span style="color:#E6DB74">"putCall"</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#F8F8F2">            f.write(simple_group.to_markdown(</span><span style="color:#FD971F;font-style:italic">index</span><span style="color:#F92672">=</span><span style="color:#AE81FF">False</span><span style="color:#F8F8F2">))</span></span>
<span class="line"><span style="color:#F8F8F2">            f.write(</span><span style="color:#E6DB74">"</span><span style="color:#AE81FF">\n</span><span style="color:#AE81FF"> \n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        f.write(</span><span style="color:#E6DB74">"</span><span style="color:#AE81FF">\n\n</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">)</span></span></code></pre>
<p>To view the sample output, please go to the following link:</p>
<p>13F.grandfleet.eu.org</p>
<p>It is generated by pelican, a static site generator written in python. The source code for the site is available at the following link:</p>
<p><a href="https://github.com/FriendlyUser/13F-sec">https://github.com/FriendlyUser/13F-sec</a></p>
<p>Pelican is a static site generator written in Python. It is used to generate static HTML files for a website from templates and content written in a markup language such as Markdown or reStructuredText. Pelican is designed to be flexible, allowing users to customize the look and feel of their website and to extend its functionality through plugins. It also integrates with popular tools such as Jinja2 templates and the Pygments syntax highlighter. Pelican is a popular choice for bloggers, documentation authors, and other users who want to create a simple, fast-loading website without the need for a dynamic backend.</p> </astro-slot></content></div><div id="comments"></div></div></div></div><!--astro:end--></astro-island> <div class="mx-auto mt-5 max-w-prose flex justify-between gap-4 border-t border-gray-700 pt-8 text-sm text-gray-400 dark:text-gray-500"> <div class="w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Previous</div> <a class="text-blue-400 hover:underline" href="/posts/stonks/thoughts/credit_suisse_failings"> Credit Suisse Crisis: How a European Bank&#39;s Troubles Threaten Global Markets </a> </div> <div class="text-right w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Next</div> <a class="text-blue-400 hover:underline" href="/posts/tech/python/projects/password_generator"> How to Create a Password Generator in Python </a> </div> </div><div class="mt-6 text-center"> <a href="/posts" class="text-blue-400 hover:underline text-sm">
&larr; Back to blog
</a> </div> <astro-island uid="1KiplR" prefix="r0" component-url="/_astro/ScrollButtons.BdAHGQrx.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ScrollButtons&quot;,&quot;value&quot;:true}" await-children=""><div class="fixed bottom-8 right-8 z-50 flex flex-col gap-3 opacity-0 transition-opacity duration-300"><button aria-label="Scroll to comments" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll to top" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><!--astro:end--></astro-island>  </div> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2025<!-- --> by <!-- -->Dhanushka&#x27;s Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/dhanushka2001" target="_blank" rel="noopener noreferrer">Dhanushka</a>. Last updated on <!-- -->2025-07-11<!-- -->.</div></div></div> </body></html>