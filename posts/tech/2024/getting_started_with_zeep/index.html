<!DOCTYPE html><html lang="en"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Getting Started with SOAP APIs Using Zeep in Python - Dhanushka&#39;s Blog</title><meta name="description" content="An introductory guide to interacting with SOAP APIs using Zeep, a modern Python SOAP client. Learn the basics of SOAP protocol, WSDL, and how to consume SOAP services in Python."><meta name="author" content="Dhanushka Jayagoda"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/index.BsaAxKtc.css" />
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}@media print{.no-print,.no-print *{display:none!important}}
</style><script type="module" src="/_astro/hoisted.UksxmqGZ.js"></script></head> <body class="bg-slate-900 text-gray-100"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8P5P8FQ" height="0" width="0" style="display:none;visibility:hidden"></iframe> </noscript> <!-- End Google Tag Manager (noscript) --> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>Dhanushka&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/dhanushka2001/blog-astro">GitHub</a></li><li class="hover:text-white"><a href="/photos">Photos</a></li></ul></nav></div></div> <div data-pagefind-body>  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="2v2d20" prefix="r2" component-url="/_astro/BlogPost.BdPqyukv.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Getting Started with SOAP APIs Using Zeep in Python&quot;],&quot;pubDate&quot;:[0,&quot;2024-04-10T10:00:00.000Z&quot;],&quot;description&quot;:[0,&quot;An introductory guide to interacting with SOAP APIs using Zeep, a modern Python SOAP client. Learn the basics of SOAP protocol, WSDL, and how to consume SOAP services in Python.&quot;],&quot;tags&quot;:[1,[[0,&quot;Zeep&quot;],[0,&quot;SOAP APIs&quot;],[0,&quot;Python&quot;],[0,&quot;Web Services&quot;],[0,&quot;XML&quot;],[0,&quot;Web Development&quot;],[0,&quot;Backend Development&quot;],[0,&quot;Programming&quot;],[0,&quot;Software Development&quot;]]],&quot;imgSrc&quot;:[0,&quot;https://unsplash.com/photos/a-piece-of-soap-sitting-on-top-of-a-black-plate-nEyRQYS2Jp8&quot;],&quot;authors&quot;:[1,[[0,&quot;David Li&quot;]]],&quot;file&quot;:[0,&quot;/home/runner/work/blog-astro/blog-astro/src/pages/posts/tech/2024/getting_started_with_zeep.md&quot;],&quot;url&quot;:[0,&quot;/posts/tech/2024/getting_started_with_zeep&quot;]}]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;BlogPost&quot;,&quot;value&quot;:true}" await-children=""><div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">Getting Started with SOAP APIs Using Zeep in Python</h1><div class="text-center text-sm text-gray-400"><div class="mt-1">Published:<!-- --> <!-- -->Apr 10, 2024</div><div class="mt-2 flex flex-wrap items-center justify-center gap-4"><div class="flex items-center space-x-2"><img src="/assets/images/avatars/david.png" alt="David Li" class="h-6 w-6 rounded-full object-cover" loading="lazy"/><a href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer" class="hover:underline">David Li</a></div></div></div><div class="flex place-content-center pt-2"><div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/Zeep" style="padding-right:3px"> <category>Zeep<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/SOAP APIs" style="padding-right:3px"> <category>SOAP APIs<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/Python" style="padding-right:3px"> <category>Python<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/Web Services" style="padding-right:3px"> <category>Web Services<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/XML" style="padding-right:3px"> <category>XML<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/Web Development" style="padding-right:3px"> <category>Web Development<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/Backend Development" style="padding-right:3px"> <category>Backend Development<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/Programming" style="padding-right:3px"> <category>Programming<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/Software Development" style="padding-right:3px"> <category>Software Development<!-- --> </category></a></div> </div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-h-2 aspect-w-3"><img class="h-full w-full rounded-lg object-cover object-center" src="https://unsplash.com/photos/a-piece-of-soap-sitting-on-top-of-a-black-plate-nEyRQYS2Jp8" loading="lazy"/></div><div class="prose prose-invert mt-6 prose-img:rounded-lg"><content><astro-slot> <h1 id="getting-started-with-soap-apis-using-zeep-in-python">Getting Started with SOAP APIs Using Zeep in Python</h1>
<p>In the realm of web services, SOAP (Simple Object Access Protocol) remains a pivotal protocol for exchanging structured information in a decentralized, distributed environment. Although REST APIs have gained prominence for their simplicity and scalability, SOAP APIs are still widely used, particularly in enterprise and financial applications, due to their robustness, security, and standardization. This article will guide you through the basics of interacting with SOAP APIs using Zeep, a modern Python SOAP client.</p>
<h2 id="understanding-soap-apis">Understanding SOAP APIs</h2>
<p>SOAP is a protocol or standard for sending and receiving web service requests and responses. SOAP messages are formatted in XML and can be transported via various protocols such as HTTP, SMTP, etc. A key component of a SOAP message is the envelope, which encapsulates the entire message and includes an optional header for transmitting application-specific information and a mandatory body that contains the request or response information.</p>
<p>WSDL (Web Services Description Language) is an XML-based interface definition language that describes the functionality offered by a web service. It provides a machine-readable description of how the service can be called, what parameters it expects, and what data structures it returns. Zeep uses the WSDL to generate Python classes for the service operations and types.</p>
<h2 id="setting-up-your-environment">Setting Up Your Environment</h2>
<p>Before diving into coding, ensure you have Python installed on your system. You will need Python 3.6 or later. You can download Python from the official website. Once Python is set up, install Zeep with pip, Python’s package installer.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#A6E22E">pip</span><span style="color:#E6DB74"> install</span><span style="color:#E6DB74"> zeep</span></span></code></pre>
<p>This command installs Zeep along with its dependencies.</p>
<h2 id="using-zeep-to-consume-a-soap-api">Using Zeep to Consume a SOAP API</h2>
<h3 id="step-1-inspecting-the-wsdl">Step 1: Inspecting the WSDL</h3>
<p>The first step is to inspect the WSDL of the SOAP service you intend to use. This document provides the necessary information to understand the available methods, their input parameters, and the expected response structures. Zeep simplifies this process by allowing you to inspect the WSDL directly from your Python code:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">from</span><span style="color:#F8F8F2"> zeep </span><span style="color:#F92672">import</span><span style="color:#F8F8F2"> Client</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">wsdl </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> 'http://example.com/service?wsdl'</span></span>
<span class="line"><span style="color:#F8F8F2">client </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> Client(wsdl)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F"># Print out a list of available operations</span></span>
<span class="line"><span style="color:#66D9EF">print</span><span style="color:#F8F8F2">(client.service.__dict__)</span></span></code></pre>
<h3 id="step-2-making-a-request">Step 2: Making a Request</h3>
<p>Once you’re familiar with the operations available, you can make requests to the SOAP service. Assume you want to call an operation named <code>GetUserInfo</code> that takes a user ID as an argument:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">user_id </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> 'abc123'</span></span>
<span class="line"><span style="color:#F8F8F2">response </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> client.service.GetUserInfo(user_id)</span></span>
<span class="line"><span style="color:#66D9EF">print</span><span style="color:#F8F8F2">(response)</span></span></code></pre>
<p>Zeep automatically converts the Python data types to the required XML structure for the SOAP request and parses the XML response back into Python objects.</p>
<h3 id="step-3-handling-complex-types">Step 3: Handling Complex Types</h3>
<p>SOAP services often involve complex types like structures or lists. Zeep excels in simplifying the interaction with these types by automatically converting them to and from Python native types or objects. If an operation requires a complex type, you can construct it as follows:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">user_info </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> client.get_type(</span><span style="color:#E6DB74">'ns1:UserInfo'</span><span style="color:#F8F8F2">)(</span><span style="color:#FD971F;font-style:italic">name</span><span style="color:#F92672">=</span><span style="color:#E6DB74">"John Doe"</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">age</span><span style="color:#F92672">=</span><span style="color:#AE81FF">30</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">response </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> client.service.UpdateUserInfo(user_id, user_info)</span></span>
<span class="line"><span style="color:#66D9EF">print</span><span style="color:#F8F8F2">(response)</span></span></code></pre>
<h3 id="step-4-working-with-attachments">Step 4: Working with Attachments</h3>
<p>SOAP messages can include attachments which are typically used to transfer files or binary data. Zeep supports both MTOM (Message Transmission Optimization Mechanism) and SWA (SOAP with Attachments) standards for handling attachments.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">with</span><span style="color:#66D9EF"> open</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'document.pdf'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'rb'</span><span style="color:#F8F8F2">) </span><span style="color:#F92672">as</span><span style="color:#F8F8F2"> file:</span></span>
<span class="line"><span style="color:#F8F8F2">    client.service.UploadDocument(user_id, </span><span style="color:#FD971F;font-style:italic">_soapheaders</span><span style="color:#F92672">=</span><span style="color:#F8F8F2">{</span><span style="color:#E6DB74">'Content-Type'</span><span style="color:#F8F8F2">: </span><span style="color:#E6DB74">'application/pdf'</span><span style="color:#F8F8F2">}, </span><span style="color:#FD971F;font-style:italic">file</span><span style="color:#F92672">=</span><span style="color:#F8F8F2">file)</span></span></code></pre>
<h3 id="best-practices-and-debugging">Best Practices and Debugging</h3>
<p>When working with SOAP APIs, it’s crucial to handle exceptions and errors gracefully. Zeep provides detailed exceptions that can help in debugging issues:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">from</span><span style="color:#F8F8F2"> zeep.exceptions </span><span style="color:#F92672">import</span><span style="color:#F8F8F2"> Fault</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">try</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#F8F8F2">    response </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> client.service.FaultyOperation()</span></span>
<span class="line"><span style="color:#F92672">except</span><span style="color:#F8F8F2"> Fault </span><span style="color:#F92672">as</span><span style="color:#F8F8F2"> error:</span></span>
<span class="line"><span style="color:#66D9EF">    print</span><span style="color:#F8F8F2">(error)</span></span></code></pre>
<p>To debug requests and responses, you can enable logging:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> logging</span></span>
<span class="line"><span style="color:#F8F8F2">logging.basicConfig(</span><span style="color:#FD971F;font-style:italic">level</span><span style="color:#F92672">=</span><span style="color:#F8F8F2">logging.</span><span style="color:#AE81FF">DEBUG</span><span style="color:#F8F8F2">)</span></span></code></pre>
<p>This will log the raw XML of the requests and responses, allowing you to inspect the data being sent and received.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Despite the dominance of RESTful APIs, SOAP remains vital in many sectors due to its standardization, security features, and support for complex transactions. Zeep is a powerful tool for Python developers to interact with SOAP services, abstracting much of the complexity involved in generating and parsing SOAP messages. By following the steps outlined in this article, you can quickly get started with consuming SOAP APIs using Zeep, making your integration tasks more manageable.</p> </astro-slot></content></div></div></div></div><!--astro:end--></astro-island>  </div> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2025<!-- --> by <!-- -->Dhanushka&#x27;s Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/dhanushka2001" target="_blank" rel="noopener noreferrer">Dhanushka</a>. Last updated on <!-- -->2025-07-08<!-- -->.</div></div><script src="https://cdn.botpress.cloud/webchat/v0/inject.js"></script><script src="https://mediafiles.botpress.cloud/0df54034-3318-451a-aed0-3923a4ee25a5/webchat/config.js" defer=""></script></div> </body></html>