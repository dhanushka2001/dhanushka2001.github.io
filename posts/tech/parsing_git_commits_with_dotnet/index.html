<!DOCTYPE html><html lang="en"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>How to parse git commits using dotnet - Dhanushka&#39;s Blog</title><meta name="description" content="Parsing git commits with dotnet"><meta name="author" content="Dhanushka Jayagoda"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/index.B_2FsOPP.css" />
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}@media print{.no-print,.no-print *{display:none!important}}
</style><script type="module" src="/_astro/hoisted.UksxmqGZ.js"></script></head> <body class="bg-slate-900 text-gray-100"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8P5P8FQ" height="0" width="0" style="display:none;visibility:hidden"></iframe> </noscript> <!-- End Google Tag Manager (noscript) --> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>Dhanushka&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/dhanushka2001/blog-astro">GitHub</a></li><li class="hover:text-white"><a href="/photos">Photos</a></li></ul></nav></div></div> <div data-pagefind-body>  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="Z22X1RC" prefix="r3" component-url="/_astro/BlogPost._FxswCuE.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;How to parse git commits using dotnet&quot;],&quot;description&quot;:[0,&quot;Parsing git commits with dotnet&quot;],&quot;alt&quot;:[0,&quot;my first blog post&quot;],&quot;tags&quot;:[1,[[0,&quot;dotnet&quot;],[0,&quot;git&quot;]]],&quot;pubDate&quot;:[0,&quot;Saturday, 17 September 2022 13:00:00 GMT&quot;],&quot;imgSrc&quot;:[0,&quot;/imgs/2022/dall-e/DALL·E 2022-09-05 15.52.26 - corgi on a field staring up into a building falling from the sky, high quality photo.png&quot;],&quot;authors&quot;:[1,[[0,&quot;David Li&quot;]]],&quot;file&quot;:[0,&quot;/home/runner/work/blog-astro/blog-astro/src/pages/posts/tech/parsing_git_commits_with_dotnet.md&quot;],&quot;url&quot;:[0,&quot;/posts/tech/parsing_git_commits_with_dotnet&quot;]}]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;BlogPost&quot;,&quot;value&quot;:true}" await-children=""><div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">How to parse git commits using dotnet</h1><div class="text-center text-sm text-gray-400"><div class="mt-1">Published:<!-- --> <!-- -->Sep 17, 2022</div><div class="mt-2 flex flex-wrap items-center justify-center gap-4"><div class="flex items-center space-x-2"><img src="/assets/images/avatars/david.png" alt="David Li" class="h-6 w-6 rounded-full object-cover" loading="lazy"/><a href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer" class="hover:underline">David Li</a></div></div></div><div class="flex place-content-center pt-2"><div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/dotnet" style="padding-right:3px"> <category>dotnet<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-zinc-400 text-zinc-900"> <a href="/tags/git" style="padding-right:3px"> <category>git<!-- --> </category></a></div> </div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-h-2 aspect-w-3"><img class="h-full w-full rounded-lg object-cover object-center" src="/imgs/2022/dall-e/DALL·E 2022-09-05 15.52.26 - corgi on a field staring up into a building falling from the sky, high quality photo.png" loading="lazy"/></div><div class="prose prose-invert mt-6 prose-img:rounded-lg"><content><astro-slot> <h1 id="parsing-git-commits-with-dotnet">Parsing git commits with dotnet</h1>
<p>In this article I will cover how to parse git commits with dotnet. This code is accessible in this github repo for those interested.</p>
<p>The main reason you would want to grab all the articles from git logs is for release notes. In my case, I want to track what I did yesterday.</p>
<p>This means that I need to be able to extract JIRA tickets from the commit messages. I also want to be able to extract the commit message and the commit hash.</p>
<p>Using regex to parse the commit messages is a good way to do this. I will be using the following regex to parse the commit messages.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">foreach</span><span style="color:#F8F8F2"> (</span><span style="color:#A6E22E;text-decoration:underline">Match</span><span style="color:#F8F8F2"> match </span><span style="color:#F92672">in</span><span style="color:#F8F8F2"> Regex.</span><span style="color:#A6E22E">Matches</span><span style="color:#F8F8F2">(c.Message, </span><span style="color:#E6DB74">@"([\S]+)-\d+"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                                    RegexOptions.None,</span></span>
<span class="line"><span style="color:#F8F8F2">                                    TimeSpan.</span><span style="color:#A6E22E">FromSeconds</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">)))</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#F8F8F2">    entries.</span><span style="color:#A6E22E">Add</span><span style="color:#F8F8F2">(match.Value);</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>will grab all word before the ticket number. For example, if you have the following commit message:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#A6E22E">git</span><span style="color:#E6DB74"> commit</span><span style="color:#AE81FF"> -m</span><span style="color:#E6DB74"> "ABC-1234: This is a commit message"</span></span></code></pre>
<p>it will extract ABC-1234 from the commit message.</p>
<p>For general parsing logic, I adapted the code from this article.</p>
<p>Using dotnet 6.0, I can just put all the logic in a single file.</p>
<p>Combining all this logic together, we can parse command line arguments with since to grab all commits, and then parse the commit messages to grab the JIRA tickets.</p>
<p>Using <code>git log</code>, a standard git commit looks like, headers will be defined with colons, commits sha sha1 hashes, and the commit message.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span>commit 226198d2f8e61206ad9eb47b32124f77801ca026</span></span>
<span class="line"><span>Author: David Li &#x3C;davidli012345@gmail.com></span></span>
<span class="line"><span>Date:   Tue Aug 23 22:26:45 2022 -0700</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    feat: adding media_nlp post closes #16</span></span></code></pre>
<p>Since we are using dotnet 6.0, we can use the new top level statements to make the code more concise. In order to grab command line arguments we need to use the CommandLine library.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic">var</span><span style="color:#F8F8F2"> cmdArgs </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> Environment.</span><span style="color:#A6E22E">GetCommandLineArgs</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">Parser.Default.</span><span style="color:#A6E22E">ParseArguments</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">CommandLineOptions</span><span style="color:#F8F8F2">>(cmdArgs)</span></span>
<span class="line"><span style="color:#F8F8F2">    .</span><span style="color:#A6E22E">WithParsed</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">CommandLineOptions</span><span style="color:#F8F8F2">>(o </span><span style="color:#F92672">=></span><span style="color:#F8F8F2">{});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">public</span><span style="color:#66D9EF;font-style:italic"> class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">CommandLineOptions</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#F8F8F2">    [</span><span style="color:#A6E22E;text-decoration:underline">Option</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'s'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"since"</span><span style="color:#F8F8F2">, Required </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">, Default </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> "yesterday"</span><span style="color:#F8F8F2">, HelpText </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> "Since Time"</span><span style="color:#F8F8F2">)]</span></span>
<span class="line"><span style="color:#F92672">    public</span><span style="color:#F92672"> string</span><span style="color:#F8F8F2"> Since { </span><span style="color:#66D9EF;font-style:italic">get</span><span style="color:#F8F8F2">; </span><span style="color:#66D9EF;font-style:italic">set</span><span style="color:#F8F8F2">; }</span></span>
<span class="line"><span style="color:#F8F8F2">    [</span><span style="color:#A6E22E;text-decoration:underline">Option</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'a'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"author"</span><span style="color:#F8F8F2">, Required </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">, Default </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> "David Li"</span><span style="color:#F8F8F2">, HelpText </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> "Author to search git logs for"</span><span style="color:#F8F8F2">)]</span></span>
<span class="line"><span style="color:#F92672">    public</span><span style="color:#F92672"> string</span><span style="color:#F8F8F2"> Author { </span><span style="color:#66D9EF;font-style:italic">get</span><span style="color:#F8F8F2">; </span><span style="color:#66D9EF;font-style:italic">set</span><span style="color:#F8F8F2">; }</span></span>
<span class="line"><span style="color:#F8F8F2">    [</span><span style="color:#A6E22E;text-decoration:underline">Option</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'d'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"dir"</span><span style="color:#F8F8F2">, Required </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">, HelpText </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> "local path to repository to parse"</span><span style="color:#F8F8F2">)]</span></span>
<span class="line"><span style="color:#F92672">    public</span><span style="color:#F92672"> string</span><span style="color:#F8F8F2"> Repo { </span><span style="color:#66D9EF;font-style:italic">get</span><span style="color:#F8F8F2">; </span><span style="color:#66D9EF;font-style:italic">set</span><span style="color:#F8F8F2">; }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p><code>o</code> will have the arguments of type CommandLineOptions. We can then use the since argument to grab all the commits. We will be passing since and author to parse for my commits from yesterday.</p>
<p>After grabbing the command line arguments, we can use the following code run git from C#, in python its called <code>subprocess</code>. We then need to parse the response from git to grab the commit hash and the commit message.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">    public</span><span style="color:#F92672"> static</span><span style="color:#F92672"> string</span><span style="color:#A6E22E"> RunProcess</span><span style="color:#F8F8F2">(</span><span style="color:#F92672">string</span><span style="color:#F8F8F2"> command)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#88846F">        // Start the child process.</span></span>
<span class="line"><span>        </span><span style="color:#A6E22E;text-decoration:underline">Process</span><span style="color:#F8F8F2"> p </span><span style="color:#F92672">=</span><span style="color:#F92672"> new</span><span> </span><span style="color:#A6E22E;text-decoration:underline">Process</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#88846F">        // Redirect the output stream of the child process.</span></span>
<span class="line"><span style="color:#F8F8F2">        p.StartInfo.UseShellExecute </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        p.StartInfo.RedirectStandardOutput </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> true</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        p.StartInfo.FileName </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> "git"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        p.StartInfo.Arguments </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> command;</span></span>
<span class="line"><span style="color:#F8F8F2">        p.</span><span style="color:#A6E22E">Start</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#88846F">        // Read the output stream first and then wait.</span></span>
<span class="line"><span style="color:#F92672">        string</span><span style="color:#F8F8F2"> output </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> p.StandardOutput.</span><span style="color:#A6E22E">ReadToEnd</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">        p.</span><span style="color:#A6E22E">WaitForExit</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F92672">        return</span><span style="color:#F8F8F2"> output;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">    public</span><span style="color:#F92672"> static</span><span style="color:#F92672"> string</span><span style="color:#A6E22E"> AllLogs</span><span style="color:#F8F8F2">(</span><span style="color:#F92672">string</span><span style="color:#F8F8F2"> since, </span><span style="color:#F92672">string</span><span style="color:#F8F8F2"> author)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">        var</span><span style="color:#F8F8F2"> args_string </span><span style="color:#F92672">=</span><span style="color:#F92672"> string</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">Format</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"log --all --since=</span><span style="color:#AE81FF">\"</span><span style="color:#E6DB74">{0}</span><span style="color:#AE81FF">\"</span><span style="color:#E6DB74"> --before=0am --author=</span><span style="color:#AE81FF">\"</span><span style="color:#E6DB74">{1}</span><span style="color:#AE81FF">\"</span><span style="color:#E6DB74">"</span><span style="color:#F8F8F2">, since, author);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">        var</span><span style="color:#F8F8F2"> output </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> RunProcess</span><span style="color:#F8F8F2">(args_string);</span></span>
<span class="line"><span style="color:#F92672">        return</span><span style="color:#F8F8F2"> output;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span></code></pre>
<p>Then in order to parse all the results, we can use the following code. To check if a line is a header we look for a line length greater than 0, a character for the for letter and if we have a colon character.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">    static</span><span style="color:#F92672"> bool</span><span style="color:#A6E22E"> StartsWithHeader</span><span style="color:#F8F8F2">(</span><span style="color:#F92672">string</span><span style="color:#F8F8F2"> line)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F92672">        if</span><span style="color:#F8F8F2"> (line.Length </span><span style="color:#F92672">></span><span style="color:#AE81FF"> 0</span><span style="color:#F92672"> &#x26;&#x26;</span><span style="color:#F92672"> char</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">IsLetter</span><span style="color:#F8F8F2">(line[</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">]))</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">            var</span><span style="color:#F8F8F2"> seq </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> line.</span><span style="color:#A6E22E">SkipWhile</span><span style="color:#F8F8F2">(ch </span><span style="color:#F92672">=></span><span style="color:#F8F8F2"> Char.</span><span style="color:#A6E22E">IsLetter</span><span style="color:#F8F8F2">(ch) </span><span style="color:#F92672">&#x26;&#x26;</span><span style="color:#F8F8F2"> ch </span><span style="color:#F92672">!=</span><span style="color:#E6DB74"> ':'</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F92672">            return</span><span style="color:#F8F8F2"> seq.</span><span style="color:#A6E22E">FirstOrDefault</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">==</span><span style="color:#E6DB74"> ':'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F92672">        return</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span></code></pre>
<p>In order to parse results, we iterate across all lines of code looking for “commit messages”,</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672"> public</span><span style="color:#F92672"> static</span><span> </span><span style="color:#A6E22E;text-decoration:underline">List</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">GitCommit</span><span style="color:#F8F8F2">> </span><span style="color:#A6E22E">ParseResults</span><span style="color:#F8F8F2">(</span><span style="color:#F92672">string</span><span style="color:#F8F8F2"> output)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span>        </span><span style="color:#A6E22E;text-decoration:underline">GitCommit</span><span style="color:#F8F8F2"> commit </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">        var</span><span style="color:#F8F8F2"> commits </span><span style="color:#F92672">=</span><span style="color:#F92672"> new</span><span> </span><span style="color:#A6E22E;text-decoration:underline">List</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">GitCommit</span><span style="color:#F8F8F2">>();</span></span>
<span class="line"><span style="color:#F92672">        bool</span><span style="color:#F8F8F2"> processingMessage </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">        using</span><span style="color:#F8F8F2"> (</span><span style="color:#66D9EF;font-style:italic">var</span><span style="color:#F8F8F2"> strReader </span><span style="color:#F92672">=</span><span style="color:#F92672"> new</span><span> </span><span style="color:#A6E22E;text-decoration:underline">StringReader</span><span style="color:#F8F8F2">(output))</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#F92672">            do</span></span>
<span class="line"><span style="color:#F8F8F2">            {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">                var</span><span style="color:#F8F8F2"> line </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> strReader.</span><span style="color:#A6E22E">ReadLine</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F92672">                if</span><span style="color:#F8F8F2"> (line </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">                    continue</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">                } </span></span>
<span class="line"><span style="color:#F92672">                if</span><span style="color:#F8F8F2"> (line.</span><span style="color:#A6E22E">StartsWith</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"commit "</span><span style="color:#F8F8F2">))</span></span>
<span class="line"><span style="color:#F8F8F2">                {</span></span>
<span class="line"><span style="color:#F92672">                    if</span><span style="color:#F8F8F2"> (commit </span><span style="color:#F92672">!=</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">                        commits.</span><span style="color:#A6E22E">Add</span><span style="color:#F8F8F2">(commit);</span></span>
<span class="line"><span style="color:#F8F8F2">                    commit </span><span style="color:#F92672">=</span><span style="color:#F92672"> new</span><span> </span><span style="color:#A6E22E;text-decoration:underline">GitCommit</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">                    commit.Sha </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> line.</span><span style="color:#A6E22E">Split</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">' '</span><span style="color:#F8F8F2">)[</span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">];</span></span>
<span class="line"><span style="color:#F8F8F2">                }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">                if</span><span style="color:#F8F8F2"> (</span><span style="color:#A6E22E">StartsWithHeader</span><span style="color:#F8F8F2">(line))</span></span>
<span class="line"><span style="color:#F8F8F2">                {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">                    var</span><span style="color:#F8F8F2"> header </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> line.</span><span style="color:#A6E22E">Split</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">':'</span><span style="color:#F8F8F2">)[</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">];</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">                    var</span><span style="color:#F8F8F2"> val </span><span style="color:#F92672">=</span><span style="color:#F92672"> string</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">Join</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">":"</span><span style="color:#F8F8F2">, line.</span><span style="color:#A6E22E">Split</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">':'</span><span style="color:#F8F8F2">).</span><span style="color:#A6E22E">Skip</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">)).</span><span style="color:#A6E22E">Trim</span><span style="color:#F8F8F2">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">                    // headers</span></span>
<span class="line"><span style="color:#F8F8F2">                    commit.Headers.</span><span style="color:#A6E22E">Add</span><span style="color:#F8F8F2">(header, val);</span></span>
<span class="line"><span style="color:#F8F8F2">                }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">                if</span><span style="color:#F8F8F2"> (</span><span style="color:#F92672">string</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">IsNullOrEmpty</span><span style="color:#F8F8F2">(line) </span><span style="color:#F92672">&#x26;&#x26;</span><span style="color:#F8F8F2"> commit.Message </span><span style="color:#F92672">!=</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">                {</span></span>
<span class="line"><span style="color:#88846F">                    // commit message divider</span></span>
<span class="line"><span style="color:#F8F8F2">                    processingMessage </span><span style="color:#F92672">=</span><span style="color:#F92672"> !</span><span style="color:#F8F8F2">processingMessage;</span></span>
<span class="line"><span style="color:#F8F8F2">                }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">                if</span><span style="color:#F8F8F2"> (line.Length </span><span style="color:#F92672">></span><span style="color:#AE81FF"> 0</span><span style="color:#F92672"> &#x26;&#x26;</span><span style="color:#F8F8F2"> processingMessage)</span></span>
<span class="line"><span style="color:#F8F8F2">                {</span></span>
<span class="line"><span style="color:#88846F">                    // commit message.</span></span>
<span class="line"><span style="color:#F8F8F2">                    commit.Message </span><span style="color:#F92672">+=</span><span style="color:#F8F8F2"> line;</span></span>
<span class="line"><span style="color:#F8F8F2">                }</span></span>
<span class="line"><span style="color:#F8F8F2">            }</span></span>
<span class="line"><span style="color:#F92672">            while</span><span style="color:#F8F8F2"> (strReader.</span><span style="color:#A6E22E">Peek</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">!=</span><span style="color:#F92672"> -</span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F92672">        if</span><span style="color:#F8F8F2"> (commit </span><span style="color:#F92672">!=</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">            commits.</span><span style="color:#A6E22E">Add</span><span style="color:#F8F8F2">(commit);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">        return</span><span style="color:#F8F8F2"> commits;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span></code></pre>
<p>Combining all this logic, together we can parse all the commits from yesterday, and then parse the commit messages to grab the JIRA tickets.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic">var</span><span style="color:#F8F8F2"> cmdArgs </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> Environment.</span><span style="color:#A6E22E">GetCommandLineArgs</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">Parser.Default.</span><span style="color:#A6E22E">ParseArguments</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">CommandLineOptions</span><span style="color:#F8F8F2">>(cmdArgs)</span></span>
<span class="line"><span style="color:#F8F8F2">    .</span><span style="color:#A6E22E">WithParsed</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">CommandLineOptions</span><span style="color:#F8F8F2">>(o </span><span style="color:#F92672">=></span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F92672">        string</span><span style="color:#F8F8F2"> output </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> Utils.</span><span style="color:#A6E22E">AllLogs</span><span style="color:#F8F8F2">(o.Since, o.Author);</span></span>
<span class="line"><span style="color:#F8F8F2">        Console.</span><span style="color:#A6E22E">WriteLine</span><span style="color:#F8F8F2">(output);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">        var</span><span style="color:#F8F8F2"> commits </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> Utils.</span><span style="color:#A6E22E">ParseResults</span><span style="color:#F8F8F2">(output);</span></span>
<span class="line"><span style="color:#F8F8F2">        Console.</span><span style="color:#A6E22E">WriteLine</span><span style="color:#F8F8F2">(commits);</span></span>
<span class="line"><span style="color:#88846F">        // pull entries with #{number} and JIRA-1 project regex</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">        var</span><span style="color:#F8F8F2"> entries </span><span style="color:#F92672">=</span><span style="color:#F92672"> new</span><span> </span><span style="color:#A6E22E;text-decoration:underline">List</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">String</span><span style="color:#F8F8F2">>();</span></span>
<span class="line"><span style="color:#88846F">        // iterate across all commmits and print out the commit message</span></span>
<span class="line"><span style="color:#F8F8F2">        Console.</span><span style="color:#A6E22E">WriteLine</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"Messages: "</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F92672">        foreach</span><span style="color:#F8F8F2"> (</span><span style="color:#66D9EF;font-style:italic">var</span><span style="color:#F8F8F2"> c </span><span style="color:#F92672">in</span><span style="color:#F8F8F2"> commits)</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#F8F8F2">            Console.</span><span style="color:#A6E22E">WriteLine</span><span style="color:#F8F8F2">(c.Message);</span></span>
<span class="line"><span style="color:#F92672">            foreach</span><span style="color:#F8F8F2"> (</span><span style="color:#A6E22E;text-decoration:underline">Match</span><span style="color:#F8F8F2"> match </span><span style="color:#F92672">in</span><span style="color:#F8F8F2"> Regex.</span><span style="color:#A6E22E">Matches</span><span style="color:#F8F8F2">(c.Message, </span><span style="color:#E6DB74">@"([\S]+)-\d+"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                                               RegexOptions.None,</span></span>
<span class="line"><span style="color:#F8F8F2">                                               TimeSpan.</span><span style="color:#A6E22E">FromSeconds</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">)))</span></span>
<span class="line"><span style="color:#F8F8F2">            {</span></span>
<span class="line"><span style="color:#88846F">                // Console.WriteLine("Found '{0}' at position {1}", match.Value, match.Index);</span></span>
<span class="line"><span style="color:#F8F8F2">                entries.</span><span style="color:#A6E22E">Add</span><span style="color:#F8F8F2">(match.Value);</span></span>
<span class="line"><span style="color:#F8F8F2">            }</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F8F8F2">        Console.</span><span style="color:#A6E22E">WriteLine</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"----------------"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        Console.</span><span style="color:#A6E22E">WriteLine</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"Issues found: "</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#88846F">        // print all entries</span></span>
<span class="line"><span style="color:#F92672">        foreach</span><span style="color:#F8F8F2"> (</span><span style="color:#66D9EF;font-style:italic">var</span><span style="color:#F8F8F2"> e </span><span style="color:#F92672">in</span><span style="color:#F8F8F2"> entries)</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#F8F8F2">            Console.</span><span style="color:#A6E22E">WriteLine</span><span style="color:#F8F8F2">(e);</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F8F8F2">    });</span></span></code></pre>
<h3 id="references">References</h3>
<ul>
<li><a href="https://github.com/FriendlyUser/git_log_parser">https://github.com/FriendlyUser/git_log_parser</a></li>
<li><a href="https://gist.github.com/Erikdegroot89/a242f0a836de3ed669dac315e1a28c04">https://gist.github.com/Erikdegroot89/a242f0a836de3ed669dac315e1a28c04</a></li>
</ul> </astro-slot></content></div><div id="comments"></div></div></div></div><!--astro:end--></astro-island> <div class="mx-auto mt-5 max-w-prose flex justify-between gap-4 border-t border-gray-700 pt-8 text-sm text-gray-400 dark:text-gray-500"> <div class="w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Previous</div> <a class="text-blue-400 hover:underline" href="/posts/stonks/rbc_stock_trade_analyzer"> Analyzing RBC Stock Trades with python </a> </div> <div class="text-right w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Next</div> <a class="text-blue-400 hover:underline" href="/posts/tech/upgrading_from_muiv4_to_mui_v5"> Upgrading from material v4 to mui v5 </a> </div> </div><div class="mt-6 text-center"> <a href="/posts" class="text-blue-400 hover:underline text-sm">
&larr; Back to blog
</a> </div> <astro-island uid="1KiplR" prefix="r0" component-url="/_astro/ScrollButtons.BdAHGQrx.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ScrollButtons&quot;,&quot;value&quot;:true}" await-children=""><div class="fixed bottom-8 right-8 z-50 flex flex-col gap-3 opacity-0 transition-opacity duration-300"><button aria-label="Scroll to comments" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll to top" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><!--astro:end--></astro-island>  </div> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2025<!-- --> by <!-- -->Dhanushka&#x27;s Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/dhanushka2001" target="_blank" rel="noopener noreferrer">Dhanushka</a>. Last updated on <!-- -->2025-07-11<!-- -->.</div></div></div> </body></html>