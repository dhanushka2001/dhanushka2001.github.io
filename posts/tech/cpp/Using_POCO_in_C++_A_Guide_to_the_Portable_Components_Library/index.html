<!DOCTYPE html><html lang="en"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Using POCO in C++ A Guide to the Portable Components Library - Dhanushka&#39;s Blog</title><meta name="description" content="In this article, we will discuss the benefits of using POCO and provide examples of how to implement its key features in your C++ projects."><meta name="author" content="Dhanushka Jayagoda"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/index.B_2FsOPP.css" />
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}@media print{.no-print,.no-print *{display:none!important}}
</style><script type="module" src="/_astro/hoisted.UksxmqGZ.js"></script></head> <body class="bg-slate-900 text-gray-100"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8P5P8FQ" height="0" width="0" style="display:none;visibility:hidden"></iframe> </noscript> <!-- End Google Tag Manager (noscript) --> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>Dhanushka&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/dhanushka2001/blog-astro">GitHub</a></li><li class="hover:text-white"><a href="/photos">Photos</a></li></ul></nav></div></div> <div data-pagefind-body>  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="ZTW4qn" prefix="r3" component-url="/_astro/BlogPost._FxswCuE.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Using POCO in C++ A Guide to the Portable Components Library&quot;],&quot;pubDate&quot;:[0,&quot;2023-05-03T14:16:44.691Z&quot;],&quot;description&quot;:[0,&quot;In this article, we will discuss the benefits of using POCO and provide examples of how to implement its key features in your C++ projects.&quot;],&quot;tags&quot;:[1,[[0,&quot;cpp&quot;]]],&quot;imgSrc&quot;:[0,&quot;/imgs/2023/2465919888.png&quot;],&quot;authors&quot;:[1,[[0,&quot;David Li&quot;]]],&quot;file&quot;:[0,&quot;/home/runner/work/blog-astro/blog-astro/src/pages/posts/tech/cpp/Using_POCO_in_C++_A_Guide_to_the_Portable_Components_Library.md&quot;],&quot;url&quot;:[0,&quot;/posts/tech/cpp/Using_POCO_in_C++_A_Guide_to_the_Portable_Components_Library&quot;]}]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;BlogPost&quot;,&quot;value&quot;:true}" await-children=""><div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">Using POCO in C++ A Guide to the Portable Components Library</h1><div class="text-center text-sm text-gray-400"><div class="mt-1">Published:<!-- --> <!-- -->May 3, 2023</div><div class="mt-2 flex flex-wrap items-center justify-center gap-4"><div class="flex items-center space-x-2"><img src="/assets/images/avatars/david.png" alt="David Li" class="h-6 w-6 rounded-full object-cover" loading="lazy"/><a href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer" class="hover:underline">David Li</a></div></div></div><div class="flex place-content-center pt-2"><div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/cpp" style="padding-right:3px"> <category>cpp<!-- --> </category></a></div> </div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-h-2 aspect-w-3"><img class="h-full w-full rounded-lg object-cover object-center" src="/imgs/2023/2465919888.png" loading="lazy"/></div><div class="prose prose-invert mt-6 prose-img:rounded-lg"><content><astro-slot> <h1 id="using-poco-in-c-a-guide-to-the-portable-components-library">Using POCO in C++: A Guide to the Portable Components Library</h1>
<p>POCO (Portable Components) is a powerful, open-source C++ library designed to simplify the development of network-centric, portable applications. POCO provides a wide range of features, such as abstractions for network protocols, multithreading, file system access, and more. In this article, we will discuss the benefits of using POCO and provide examples of how to implement its key features in your C++ projects.</p>
<h2 id="benefits-of-using-poco">Benefits of Using POCO</h2>
<ol>
<li><strong>Portability</strong>: POCO allows you to write portable code that can be easily adapted to different platforms, such as Windows, Linux, and macOS.</li>
<li><strong>Modularity</strong>: The library is designed with a modular architecture, making it simple to use only the components you need for your specific application.</li>
<li><strong>Ease of use</strong>: POCO’s API is designed to be intuitive and easy to use, allowing developers to quickly implement advanced features without excessive boilerplate code.</li>
<li><strong>Scalability</strong>: The library provides components for handling high-performance, concurrent, and distributed applications, making it a suitable choice for large-scale projects.</li>
<li><strong>Comprehensive feature set</strong>: POCO provides a wide range of functionality, including support for network protocols, multithreading, streams, file system access, and more.</li>
</ol>
<h2 id="setting-up-poco">Setting Up POCO</h2>
<p>Before we dive into the examples, you’ll need to set up POCO on your development environment. You can download the library from the official POCO website (<a href="https://pocoproject.org/">https://pocoproject.org/</a>) and follow the build instructions for your platform.</p>
<p>Alternatively, you can use package managers like <code>vcpkg</code> or <code>conan</code> to install POCO:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#88846F"># vcpkg</span></span>
<span class="line"><span style="color:#A6E22E">vcpkg</span><span style="color:#E6DB74"> install</span><span style="color:#E6DB74"> poco</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F"># conan</span></span>
<span class="line"><span style="color:#A6E22E">conan</span><span style="color:#E6DB74"> install</span><span style="color:#E6DB74"> poco/1.11.0@</span></span></code></pre>
<p>Once the library is installed, include the necessary headers in your C++ project and link against the appropriate POCO libraries.</p>
<h2 id="example-1-http-client">Example 1: HTTP Client</h2>
<p>One of the most common use cases for POCO is creating an HTTP client. In this example, we will create a simple HTTP client to send a GET request and process the response.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;Poco/Net/HTTPClientSession.h></span></span>
<span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;Poco/Net/HTTPRequest.h></span></span>
<span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;Poco/Net/HTTPResponse.h></span></span>
<span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;Poco/StreamCopier.h></span></span>
<span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;iostream></span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">int</span><span style="color:#A6E22E"> main</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::</span><span style="color:#A6E22E;text-decoration:underline">Net</span><span style="color:#F8F8F2">::HTTPClientSession </span><span style="color:#A6E22E">session</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"example.com"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::</span><span style="color:#A6E22E;text-decoration:underline">Net</span><span style="color:#F8F8F2">::HTTPRequest </span><span style="color:#A6E22E">request</span><span style="color:#F8F8F2">(</span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::</span><span style="color:#A6E22E;text-decoration:underline">Net</span><span style="color:#F8F8F2">::</span><span style="color:#A6E22E;text-decoration:underline">HTTPRequest</span><span style="color:#F8F8F2">::HTTP_GET, </span><span style="color:#E6DB74">"/"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::</span><span style="color:#A6E22E;text-decoration:underline">Net</span><span style="color:#F8F8F2">::HTTPResponse response;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">    session.</span><span style="color:#A6E22E">sendRequest</span><span style="color:#F8F8F2">(request);</span></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::istream </span><span style="color:#F92672">&#x26;</span><span style="color:#F8F8F2">responseStream </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> session.</span><span style="color:#A6E22E">receiveResponse</span><span style="color:#F8F8F2">(response);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (response.</span><span style="color:#A6E22E">getStatus</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">==</span><span> </span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::</span><span style="color:#A6E22E;text-decoration:underline">Net</span><span style="color:#F8F8F2">::</span><span style="color:#A6E22E;text-decoration:underline">HTTPResponse</span><span style="color:#F8F8F2">::HTTP_OK)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span>        </span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::</span><span style="color:#A6E22E;text-decoration:underline">StreamCopier</span><span style="color:#F8F8F2">::</span><span style="color:#A6E22E">copyStream</span><span style="color:#F8F8F2">(responseStream, </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::cout);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F92672">    else</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span>        </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::cerr </span><span style="color:#F92672">&#x3C;&#x3C;</span><span style="color:#E6DB74"> "Error: "</span><span style="color:#F92672"> &#x3C;&#x3C;</span><span style="color:#F8F8F2"> response.</span><span style="color:#A6E22E">getStatus</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">&#x3C;&#x3C;</span><span style="color:#E6DB74"> " "</span><span style="color:#F92672"> &#x3C;&#x3C;</span><span style="color:#F8F8F2"> response.</span><span style="color:#A6E22E">getReason</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">&#x3C;&#x3C;</span><span> </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::endl;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">    return</span><span style="color:#AE81FF"> 0</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>In this example, we create an <code>HTTPClientSession</code> object and pass the domain name as an argument. We then create an <code>HTTPRequest</code> object with the HTTP method (GET) and the request path (”/”). The request is sent, and the response is received and processed. If the status is HTTP_OK, we copy the response body to the standard output using <code>StreamCopier</code>.</p>
<h2 id="example-2-multithreading">Example 2: Multithreading</h2>
<p>POCO provides a comprehensive set of classes for multithreading and synchronization. In this example, we will demonstrate how to create a simple multithreaded program that calculates the Fibonacci sequence.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;Poco/Thread.h></span></span>
<span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;Poco/Runnable.h></span></span>
<span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;Poco/Mutex.h></span></span>
<span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;iostream></span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">FibonacciCalculator</span><span style="color:#F8F8F2"> : </span><span style="color:#66D9EF;font-style:italic">public</span><span> </span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::</span><span style="color:#A6E22E;text-decoration:underline">Runnable</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">public:</span></span>
<span class="line"><span style="color:#A6E22E">    FibonacciCalculator</span><span style="color:#F8F8F2">(</span><span style="color:#66D9EF;font-style:italic">int</span><span style="color:#FD971F;font-style:italic"> n</span><span style="color:#F8F8F2">) : </span><span style="color:#A6E22E">_n</span><span style="color:#F8F8F2">(n) {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    void</span><span style="color:#A6E22E"> run</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">override</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F8F8F2">        _result </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> fibonacci</span><span style="color:#F8F8F2">(_n);</span></span>
<span class="line"><span style="color:#F8F8F2">        _mutex.</span><span style="color:#A6E22E">lock</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span>        </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::cout </span><span style="color:#F92672">&#x3C;&#x3C;</span><span style="color:#E6DB74"> "Fibonacci("</span><span style="color:#F92672"> &#x3C;&#x3C;</span><span style="color:#F8F8F2"> _n </span><span style="color:#F92672">&#x3C;&#x3C;</span><span style="color:#E6DB74"> ") = "</span><span style="color:#F92672"> &#x3C;&#x3C;</span><span style="color:#F8F8F2"> _result </span><span style="color:#F92672">&#x3C;&#x3C;</span><span> </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::endl;</span></span>
<span class="line"><span style="color:#F8F8F2">        _mutex.</span><span style="color:#A6E22E">unlock</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">private:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    int</span><span style="color:#F8F8F2"> _n;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    int</span><span style="color:#F8F8F2"> _result;</span></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::Mutex _mutex;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    int</span><span style="color:#A6E22E"> fibonacci</span><span style="color:#F8F8F2">(</span><span style="color:#66D9EF;font-style:italic">int</span><span style="color:#FD971F;font-style:italic"> n</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F92672">        if</span><span style="color:#F8F8F2"> (n </span><span style="color:#F92672">&#x3C;=</span><span style="color:#AE81FF"> 1</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#F92672">            return</span><span style="color:#F8F8F2"> n;</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F92672">        return</span><span style="color:#A6E22E"> fibonacci</span><span style="color:#F8F8F2">(n </span><span style="color:#F92672">-</span><span style="color:#AE81FF"> 1</span><span style="color:#F8F8F2">) </span><span style="color:#F92672">+</span><span style="color:#A6E22E"> fibonacci</span><span style="color:#F8F8F2">(n </span><span style="color:#F92672">-</span><span style="color:#AE81FF"> 2</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">int</span><span style="color:#A6E22E"> main</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#F8F8F2">    FibonacciCalculator </span><span style="color:#A6E22E">calculator1</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">10</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">    FibonacciCalculator </span><span style="color:#A6E22E">calculator2</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">20</span><span style="color:#F8F8F2">);</span></span>
<span class="line"></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::Thread thread1;</span></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::Thread thread2;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">    thread1.</span><span style="color:#A6E22E">start</span><span style="color:#F8F8F2">(calculator1);</span></span>
<span class="line"><span style="color:#F8F8F2">    thread2.</span><span style="color:#A6E22E">start</span><span style="color:#F8F8F2">(calculator2);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">    thread1.</span><span style="color:#A6E22E">join</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    thread2.</span><span style="color:#A6E22E">join</span><span style="color:#F8F8F2">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">    return</span><span style="color:#AE81FF"> 0</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>Inthis example, we define a <code>FibonacciCalculator</code> class that inherits from <code>Poco::Runnable</code>. The <code>run()</code> method calculates the Fibonacci number for a given <code>_n</code> and prints the result to the standard output. A <code>Poco::Mutex</code> is used to synchronize access to the standard output, ensuring that the printed messages do not overlap.</p>
<p>In the <code>main()</code> function, we create two instances of <code>FibonacciCalculator</code> with different values of <code>n</code>. We then create two <code>Poco::Thread</code> instances and start them with the <code>FibonacciCalculator</code> instances. Finally, we join the threads to wait for their completion before exiting the program.</p>
<h2 id="example-3-file-system-access">Example 3: File System Access</h2>
<p>POCO provides several classes for working with the file system. In this example, we will demonstrate how to traverse a directory and print the names of all files and subdirectories.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;Poco/File.h></span></span>
<span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;Poco/Path.h></span></span>
<span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;Poco/DirectoryIterator.h></span></span>
<span class="line"><span style="color:#F92672">#include</span><span style="color:#E6DB74"> &#x3C;iostream></span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">void</span><span style="color:#A6E22E"> listDirectory</span><span style="color:#F8F8F2">(</span><span style="color:#F92672">const</span><span> </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::</span><span style="color:#A6E22E;text-decoration:underline">string</span><span style="color:#F92672"> &#x26;</span><span style="color:#FD971F;font-style:italic">directoryPath</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::DirectoryIterator end;</span></span>
<span class="line"><span style="color:#F92672">    for</span><span style="color:#F8F8F2"> (</span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::DirectoryIterator </span><span style="color:#A6E22E">it</span><span style="color:#F8F8F2">(directoryPath); it </span><span style="color:#F92672">!=</span><span style="color:#F8F8F2"> end; </span><span style="color:#F92672">++</span><span style="color:#F8F8F2">it)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span>        </span><span style="color:#A6E22E;text-decoration:underline">Poco</span><span style="color:#F8F8F2">::Path </span><span style="color:#A6E22E">filePath</span><span style="color:#F8F8F2">(it-></span><span style="color:#A6E22E">path</span><span style="color:#F8F8F2">());</span></span>
<span class="line"><span style="color:#F8F8F2">        </span></span>
<span class="line"><span style="color:#F92672">        if</span><span style="color:#F8F8F2"> (it-></span><span style="color:#A6E22E">isFile</span><span style="color:#F8F8F2">())</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span>            </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::cout </span><span style="color:#F92672">&#x3C;&#x3C;</span><span style="color:#E6DB74"> "File: "</span><span style="color:#F92672"> &#x3C;&#x3C;</span><span style="color:#F8F8F2"> filePath.</span><span style="color:#A6E22E">getFileName</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">&#x3C;&#x3C;</span><span> </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::endl;</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F92672">        else</span><span style="color:#F92672"> if</span><span style="color:#F8F8F2"> (it-></span><span style="color:#A6E22E">isDirectory</span><span style="color:#F8F8F2">())</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span>            </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::cout </span><span style="color:#F92672">&#x3C;&#x3C;</span><span style="color:#E6DB74"> "Directory: "</span><span style="color:#F92672"> &#x3C;&#x3C;</span><span style="color:#F8F8F2"> filePath.</span><span style="color:#A6E22E">getFileName</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">&#x3C;&#x3C;</span><span> </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::endl;</span></span>
<span class="line"><span style="color:#A6E22E">            listDirectory</span><span style="color:#F8F8F2">(filePath.</span><span style="color:#A6E22E">toString</span><span style="color:#F8F8F2">());</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">int</span><span style="color:#A6E22E"> main</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">std</span><span style="color:#F8F8F2">::string directoryPath </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> "."</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#A6E22E">    listDirectory</span><span style="color:#F8F8F2">(directoryPath);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">    return</span><span style="color:#AE81FF"> 0</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>In this example, we define a <code>listDirectory()</code> function that takes a directory path as an argument. We use a <code>Poco::DirectoryIterator</code> to traverse the directory and print the names of all files and subdirectories. If a subdirectory is encountered, we recursively call the <code>listDirectory()</code> function.</p>
<p>In the <code>main()</code> function, we call <code>listDirectory()</code> with the current directory path (”.”). The result is a printed list of all files and subdirectories in the current directory and its subdirectories.</p>
<h2 id="conclusion">Conclusion</h2>
<p>POCO is a powerful and versatile C++ library that provides a comprehensive set of features for developing portable, network-centric applications. By leveraging POCO’s intuitive API, you can easily implement advanced functionality such as network communication, multithreading, and file system access in your C++ projects. The examples provided in this article offer a starting point for using POCO in your own applications, but the library’s extensive documentation and vibrant community can provide further guidance and support as you explore its full potential.</p> </astro-slot></content></div><div id="comments"></div></div></div></div><!--astro:end--></astro-island> <div class="mx-auto mt-5 max-w-prose flex justify-between gap-4 border-t border-gray-700 pt-8 text-sm text-gray-400 dark:text-gray-500"> <div class="w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Previous</div> <a class="text-blue-400 hover:underline" href="/posts/tech/cpp/Utilizing_the_C++_Standard_Library_for_Efficient_and_Robust_Code"> Utilizing the C++ Standard Library for Efficient and Robust Code </a> </div> <div class="text-right w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Next</div> <a class="text-blue-400 hover:underline" href="/posts/tech/cpp/Using_OpenSSL_in_C++_A_Comprehensive_Guide"> Using OpenSSL in C++ A Comprehensive Guide </a> </div> </div><div class="mt-6 text-center"> <a href="/posts" class="text-blue-400 hover:underline text-sm">
&larr; Back to blog
</a> </div> <astro-island uid="1KiplR" prefix="r0" component-url="/_astro/ScrollButtons.BdAHGQrx.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ScrollButtons&quot;,&quot;value&quot;:true}" await-children=""><div class="fixed bottom-8 right-8 z-50 flex flex-col gap-3 opacity-0 transition-opacity duration-300"><button aria-label="Scroll to comments" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll to top" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><!--astro:end--></astro-island>  </div> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2025<!-- --> by <!-- -->Dhanushka&#x27;s Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/dhanushka2001" target="_blank" rel="noopener noreferrer">Dhanushka</a>. Last updated on <!-- -->2025-07-11<!-- -->.</div></div></div> </body></html>