<!DOCTYPE html><html lang="en"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Implementing basic pokedex part I - Dhanushka&#39;s Blog</title><meta name="description" content="Pokemon app using flutter"><meta name="author" content="Dhanushka Jayagoda"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/index.B_2FsOPP.css" />
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}@media print{.no-print,.no-print *{display:none!important}}
</style><script type="module" src="/_astro/hoisted.UksxmqGZ.js"></script></head> <body class="bg-slate-900 text-gray-100"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8P5P8FQ" height="0" width="0" style="display:none;visibility:hidden"></iframe> </noscript> <!-- End Google Tag Manager (noscript) --> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>Dhanushka&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/dhanushka2001/blog-astro">GitHub</a></li><li class="hover:text-white"><a href="/photos">Photos</a></li></ul></nav></div></div> <div data-pagefind-body>  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="27iLXx" prefix="r3" component-url="/_astro/BlogPost._FxswCuE.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Implementing basic pokedex part I&quot;],&quot;description&quot;:[0,&quot;Pokemon app using flutter&quot;],&quot;pubDate&quot;:[0,&quot;Monday, 7 July 2023 13:00:00 GMT&quot;],&quot;tags&quot;:[1,[[0,&quot;flutter&quot;],[0,&quot;pokeapi&quot;]]],&quot;imgSrc&quot;:[0,&quot;/imgs/2023/music_album.jpg&quot;],&quot;authors&quot;:[1,[[0,&quot;David Li&quot;]]],&quot;file&quot;:[0,&quot;/home/runner/work/blog-astro/blog-astro/src/pages/posts/tech/flutter/pokedex_app_partII.md&quot;],&quot;url&quot;:[0,&quot;/posts/tech/flutter/pokedex_app_partII&quot;]}]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;BlogPost&quot;,&quot;value&quot;:true}" await-children=""><div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">Implementing basic pokedex part I</h1><div class="text-center text-sm text-gray-400"><div class="mt-1">Published:<!-- --> <!-- -->Jul 7, 2023</div><div class="mt-2 flex flex-wrap items-center justify-center gap-4"><div class="flex items-center space-x-2"><img src="/assets/images/avatars/david.png" alt="David Li" class="h-6 w-6 rounded-full object-cover" loading="lazy"/><a href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer" class="hover:underline">David Li</a></div></div></div><div class="flex place-content-center pt-2"><div class="rounded-md px-2 py-1 text-xs font-semibold bg-sky-400 text-sky-900"> <a href="/tags/flutter" style="padding-right:3px"> <category>flutter<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/pokeapi" style="padding-right:3px"> <category>pokeapi<!-- --> </category></a></div> </div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-h-2 aspect-w-3"><img class="h-full w-full rounded-lg object-cover object-center" src="/imgs/2023/music_album.jpg" loading="lazy"/></div><div class="prose prose-invert mt-6 prose-img:rounded-lg"><content><astro-slot> <p>This is a StatefulWidget class in the Flutter framework. It appears to define a screen for displaying details about a Pokémon. The widget takes an integer pokemonId as a parameter in its constructor, which is used to look up information about the Pokémon from an API. The createState() method returns an instance of a corresponding _PokemonDetailsScreenState class, which is the State associated with this widget.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> 'package:flutter/material.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> 'package:pokedex/core/api/poke_api.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../components/pokemon_description.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../components/pokemon_metric.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../components/pokemon_stats.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../components/pokemon_type.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../components/pokemon_types.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../components/pokemon_header.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../core/utils/color_constant.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../core/utils/get_data.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../core/utils/image_constant.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../core/utils/logger.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../core/utils/poke_classes.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../core/utils/type_to_color.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../theme/app_decoration.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#E6DB74"> '../theme/size_utils.dart'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">class</span><span style="color:#66D9EF;font-style:italic"> PokemonDetailsScreen</span><span style="color:#F92672"> extends</span><span style="color:#66D9EF;font-style:italic"> StatefulWidget</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  int</span><span style="color:#F8F8F2"> pokemonId;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  PokemonDetailsScreen</span><span style="color:#F8F8F2">({</span><span style="color:#66D9EF;font-style:italic">Key</span><span style="color:#F92672">?</span><span style="color:#F8F8F2"> key, </span><span style="color:#F92672">required</span><span style="color:#FD971F"> this</span><span style="color:#F8F8F2">.pokemonId}) </span><span style="color:#F92672">:</span><span style="color:#FD971F"> super</span><span style="color:#F8F8F2">(key</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> key);</span></span>
<span class="line"><span style="color:#88846F">  // pokemon id param</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  @override</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  _PokemonDetailsScreenState</span><span style="color:#A6E22E"> createState</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">=></span><span style="color:#66D9EF;font-style:italic"> _PokemonDetailsScreenState</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">class</span><span style="color:#66D9EF;font-style:italic"> _PokemonDetailsScreenState</span><span style="color:#F92672"> extends</span><span style="color:#66D9EF;font-style:italic"> State</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#66D9EF;font-style:italic">PokemonDetailsScreen</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#F92672">  late</span><span style="color:#66D9EF;font-style:italic"> Pokemon</span><span style="color:#F8F8F2"> pokemon;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  bool</span><span style="color:#F8F8F2"> isLoading </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  bool</span><span style="color:#F8F8F2"> isLoadingDetails </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  bool</span><span style="color:#F8F8F2"> isLoadingSpecies </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  PokemonDetails</span><span style="color:#F92672">?</span><span style="color:#F8F8F2"> pokemonDetails;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  PokemonSpecies</span><span style="color:#F92672">?</span><span style="color:#F8F8F2"> pokemonSpecies;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  void</span><span style="color:#A6E22E"> getSpecies</span><span style="color:#F8F8F2">(</span><span style="color:#66D9EF;font-style:italic">String</span><span style="color:#F8F8F2"> url) {</span></span>
<span class="line"><span style="color:#F8F8F2">    isLoadingSpecies </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> true</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">    try</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#A6E22E">      fetchPokemonSpecies</span><span style="color:#F8F8F2">(url).</span><span style="color:#A6E22E">then</span><span style="color:#F8F8F2">((resultat) {</span></span>
<span class="line"><span style="color:#88846F">        // pokemonDetails = resultat;</span></span>
<span class="line"><span style="color:#F8F8F2">        pokemonSpecies </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> resultat;</span></span>
<span class="line"><span style="color:#A6E22E">        setState</span><span style="color:#F8F8F2">(() {</span></span>
<span class="line"><span style="color:#F8F8F2">          isLoadingSpecies </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        });</span></span>
<span class="line"><span style="color:#F8F8F2">      }).</span><span style="color:#A6E22E">catchError</span><span style="color:#F8F8F2">((error) {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">        Logger</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">log</span><span style="color:#F8F8F2">(error);</span></span>
<span class="line"><span style="color:#A6E22E">        setState</span><span style="color:#F8F8F2">(() {</span></span>
<span class="line"><span style="color:#F8F8F2">          isLoadingSpecies </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        });</span></span>
<span class="line"><span style="color:#F8F8F2">      });</span></span>
<span class="line"><span style="color:#F8F8F2">    } </span><span style="color:#F92672">catch</span><span style="color:#F8F8F2"> (error) {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">      Logger</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">log</span><span style="color:#F8F8F2">(error);</span></span>
<span class="line"><span style="color:#A6E22E">      setState</span><span style="color:#F8F8F2">(() {</span></span>
<span class="line"><span style="color:#F8F8F2">        isLoadingSpecies </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">      });</span></span>
<span class="line"><span style="color:#F8F8F2">    };</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  @override</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  void</span><span style="color:#A6E22E"> initState</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#FD971F">    super</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">initState</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#88846F">    // reading from json file</span></span>
<span class="line"><span style="color:#F8F8F2">    isLoading </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> true</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">    isLoadingDetails </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> true</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#A6E22E">    readJson</span><span style="color:#F8F8F2">().</span><span style="color:#A6E22E">then</span><span style="color:#F8F8F2">((resultat) {</span></span>
<span class="line"><span style="color:#88846F">      // use setState to update pokemon</span></span>
<span class="line"><span style="color:#F8F8F2">      pokemon </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> resultat[widget.pokemonId </span><span style="color:#F92672">-</span><span style="color:#AE81FF"> 1</span><span style="color:#F8F8F2">];</span></span>
<span class="line"><span style="color:#A6E22E">      setState</span><span style="color:#F8F8F2">(() {</span></span>
<span class="line"><span style="color:#F8F8F2">        isLoading </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">      });</span></span>
<span class="line"><span style="color:#F8F8F2">    }).</span><span style="color:#A6E22E">catchError</span><span style="color:#F8F8F2">((error) {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">      Logger</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">log</span><span style="color:#F8F8F2">(error);</span></span>
<span class="line"><span style="color:#A6E22E">      setState</span><span style="color:#F8F8F2">(() {</span></span>
<span class="line"><span style="color:#F8F8F2">        isLoading </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">      });</span></span>
<span class="line"><span style="color:#F8F8F2">    });</span></span>
<span class="line"><span style="color:#88846F">    // LOADING SECOND DATA</span></span>
<span class="line"><span style="color:#A6E22E">    fetchPokemonDetails</span><span style="color:#F8F8F2">(widget.pokemonId.</span><span style="color:#A6E22E">toString</span><span style="color:#F8F8F2">()).</span><span style="color:#A6E22E">then</span><span style="color:#F8F8F2">((resultat) {</span></span>
<span class="line"><span style="color:#88846F">      // pokemonDetails = resultat;</span></span>
<span class="line"><span style="color:#F8F8F2">      pokemonDetails </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> resultat;</span></span>
<span class="line"><span style="color:#A6E22E">      setState</span><span style="color:#F8F8F2">(() {</span></span>
<span class="line"><span style="color:#F8F8F2">        isLoadingDetails </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">      });</span></span>
<span class="line"><span style="color:#88846F">      // get species url</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">      var</span><span style="color:#F8F8F2"> speciesUrl </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pokemonDetails</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.species</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.url;</span></span>
<span class="line"><span style="color:#F92672">      if</span><span style="color:#F8F8F2"> (speciesUrl </span><span style="color:#F92672">!=</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#A6E22E">        getSpecies</span><span style="color:#F8F8F2">(speciesUrl);</span></span>
<span class="line"><span style="color:#F8F8F2">      }</span></span>
<span class="line"><span style="color:#F8F8F2">    }).</span><span style="color:#A6E22E">catchError</span><span style="color:#F8F8F2">((error) {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">      Logger</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">log</span><span style="color:#F8F8F2">(error);</span></span>
<span class="line"><span style="color:#A6E22E">      setState</span><span style="color:#F8F8F2">(() {</span></span>
<span class="line"><span style="color:#F8F8F2">        isLoadingDetails </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">      });</span></span>
<span class="line"><span style="color:#F8F8F2">    });</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span></code></pre>
<p>This is the _PokemonDetailsScreenState class, which extends State and is associated with the PokemonDetailsScreen widget. It appears to be responsible for loading data about a Pokémon and its details and species from an API, and for displaying this data to the user.</p>
<p>The _PokemonDetailsScreenState class has several variables to store data about the Pokémon, including pokemon, pokemonDetails, and pokemonSpecies, as well as variables to track the loading status of this data.</p>
<p>The initState() method is a lifecycle method in Flutter that is called when the state associated with a StatefulWidget is first created. In this method, the _PokemonDetailsScreenState class is loading data about the Pokémon by calling the readJson() and fetchPokemonDetails() functions, which appear to read data from a JSON file and make an HTTP request to an API, respectively. When this data has been loaded, the setState() method is called to update the state of the widget and trigger a rebuild of the widget’s user interface.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  Widget</span><span style="color:#A6E22E"> buildAbilities</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> bgColor </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> getBgColor</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#88846F">    // parse metrics from pokeomnDetails</span></span>
<span class="line"><span style="color:#88846F">    // get all abilities</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> abilities </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pokemonDetails</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.abilities </span><span style="color:#F92672">??</span><span style="color:#F8F8F2"> [];</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (isLoadingDetails </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> true</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> CircularProgressIndicator</span><span style="color:#F8F8F2">(color</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> bgColor);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#88846F">    // if no abilities, return empty container</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (abilities.isEmpty) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#88846F">    // map over abilities and make list of widgets</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> widgets </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> abilities.</span><span style="color:#A6E22E">map</span><span style="color:#F8F8F2">((e) {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">      var</span><span style="color:#F8F8F2"> ability </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> e.ability</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">.name</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> PokemonAbility</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">        ability</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> ability,</span></span>
<span class="line"><span style="color:#F8F8F2">        bgColor</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> bgColor,</span></span>
<span class="line"><span style="color:#F8F8F2">      );</span></span>
<span class="line"><span style="color:#F8F8F2">    }).</span><span style="color:#A6E22E">toList</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F92672">    return</span><span style="color:#66D9EF;font-style:italic"> Column</span><span style="color:#F8F8F2">(children</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> widgets);</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  Widget</span><span style="color:#A6E22E"> buildDescription</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> bgColor </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> getBgColor</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F92672">     if</span><span style="color:#F8F8F2"> (isLoadingSpecies </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> true</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> CircularProgressIndicator</span><span style="color:#F8F8F2">(color</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> bgColor);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (pokemonSpecies </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (pokemonSpecies</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.flavorTextEntries </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (pokemonSpecies</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.flavorTextEntries</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.isEmpty </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> true</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> description </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pokemonSpecies</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.flavorTextEntries</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">[</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">]</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.flavorText;</span></span>
<span class="line"><span style="color:#88846F">    // safe render, remove special characters</span></span>
<span class="line"><span style="color:#F8F8F2">    description </span><span style="color:#F92672">??=</span><span style="color:#E6DB74"> " "</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#88846F">    // return description</span></span>
<span class="line"><span style="color:#F92672">    return</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">      width</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> MediaQuery</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">of</span><span style="color:#F8F8F2">(context).size.width,</span></span>
<span class="line"><span style="color:#F8F8F2">      height</span><span style="color:#F92672">:</span><span style="color:#AE81FF"> 100</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">      child</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> PokemonDescription</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">        description</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> description,</span></span>
<span class="line"><span style="color:#F8F8F2">      )</span></span>
<span class="line"><span style="color:#F8F8F2">    );</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span></code></pre>
<p>These are two helper functions in the _PokemonDetailsScreenState class: buildAbilities() and buildDescription().</p>
<p>The buildAbilities() function appears to build a list of widgets representing the abilities of a Pokémon. It first gets the list of abilities from the pokemonDetails variable. If this variable is null or the list of abilities is empty, the function returns an empty Container widget. If the list of abilities is not empty, the function maps over the list of abilities and creates a list of PokemonAbility widgets, which are passed the name of the ability and a background color. This list of widgets is then returned wrapped in a Column widget.</p>
<p>The buildDescription() function appears to build a widget displaying a description of a Pokémon. It first gets the description from the pokemonSpecies variable. If this variable is null, or if the flavorTextEntries field of the pokemonSpecies variable is null or empty, the function returns an empty Container widget. If the description is not null, the function creates and returns a PokemonDescription widget, which is passed the description.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  Widget</span><span style="color:#A6E22E"> buildMetrics</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#88846F">    // if isLoadingDetails is true, return loaded</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> bgColor </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> getBgColor</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (pokemonDetails </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> CircularProgressIndicator</span><span style="color:#F8F8F2">(color</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> bgColor);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#88846F">    // parse metrics from pokeomnDetails</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> weight </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pokemonDetails</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.weight;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> height </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pokemonDetails</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.height;</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (isLoadingDetails </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> true</span><span style="color:#F92672"> ||</span><span style="color:#F8F8F2"> weight </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> null</span><span style="color:#F92672"> ||</span><span style="color:#F8F8F2"> height </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> CircularProgressIndicator</span><span style="color:#F8F8F2">(color</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> bgColor);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    String</span><span style="color:#F8F8F2"> weightString </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> ""</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    String</span><span style="color:#F8F8F2"> heightString </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> ""</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#88846F">    // hectograms to kg</span></span>
<span class="line"><span style="color:#F92672">    try</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">      weightString </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> "${(</span><span style="color:#FD971F;font-style:italic">weight</span><span style="color:#E6DB74"> * </span><span style="color:#AE81FF">0.1</span><span style="color:#E6DB74">).</span><span style="color:#A6E22E">toStringAsPrecision</span><span style="color:#E6DB74">(</span><span style="color:#AE81FF">1</span><span style="color:#E6DB74">)} kg"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">      heightString </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> "${(</span><span style="color:#FD971F;font-style:italic">height</span><span style="color:#E6DB74"> * </span><span style="color:#AE81FF">0.1</span><span style="color:#E6DB74">).</span><span style="color:#A6E22E">toStringAsPrecision</span><span style="color:#E6DB74">(</span><span style="color:#AE81FF">1</span><span style="color:#E6DB74">)} m"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">    } </span><span style="color:#F92672">catch</span><span style="color:#F8F8F2"> (e) {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">      Logger</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">log</span><span style="color:#F8F8F2">(e);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F92672">    return</span><span style="color:#66D9EF;font-style:italic"> Row</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#88846F">      // space between metrics</span></span>
<span class="line"><span style="color:#F8F8F2">      children</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">        PokemonMetric</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">          text</span><span style="color:#F92672">:</span><span style="color:#E6DB74"> "weight"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">          label</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> weightString,</span></span>
<span class="line"><span style="color:#F8F8F2">          icon</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> ImageConstant</span><span style="color:#F8F8F2">.imgMusic,</span></span>
<span class="line"><span style="color:#F8F8F2">        ),</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">        PokemonMetric</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">          text</span><span style="color:#F92672">:</span><span style="color:#E6DB74"> "height"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">          label</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> heightString,</span></span>
<span class="line"><span style="color:#F8F8F2">          icon</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> ImageConstant</span><span style="color:#F8F8F2">.imgFrame,</span></span>
<span class="line"><span style="color:#F8F8F2">        ),</span></span>
<span class="line"><span style="color:#F8F8F2">      ],</span></span>
<span class="line"><span style="color:#F8F8F2">    );</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  Widget</span><span style="color:#A6E22E"> buildChart</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> bgColor </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> getBgColor</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (isLoadingDetails </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> true</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> CircularProgressIndicator</span><span style="color:#F8F8F2">(color</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> bgColor);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (pokemonDetails </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (pokemonDetails</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.stats </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> stats </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pokemonDetails</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.stats</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#88846F">    // get all stats</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (stats </span><span style="color:#F92672">!=</span><span style="color:#AE81FF"> null</span><span style="color:#F92672"> &#x26;&#x26;</span><span style="color:#F8F8F2"> stats.isEmpty) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#88846F">    // map over stats and make seriesList</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> seriesList </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> stats</span><span style="color:#F92672">?</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">map</span><span style="color:#F8F8F2">((e) {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">      var</span><span style="color:#F8F8F2"> name </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> e.stat</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">.name</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">      var</span><span style="color:#F8F8F2"> baseStat </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> e</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">.baseStat</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> PokemonBaseStat</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">        name,</span></span>
<span class="line"><span style="color:#F8F8F2">        baseStat,</span></span>
<span class="line"><span style="color:#F8F8F2">      );</span></span>
<span class="line"><span style="color:#F8F8F2">    }).</span><span style="color:#A6E22E">toList</span><span style="color:#F8F8F2">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">    // make sure seriesList is not null</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (seriesList </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">      return</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">    // make series from stats</span></span>
<span class="line"><span style="color:#F92672">    return</span><span style="color:#66D9EF;font-style:italic"> Column</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">      children</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#F92672">        const</span><span style="color:#66D9EF;font-style:italic"> Text</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"Base Stats"</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">        BarChartWidget</span><span style="color:#F8F8F2">(points</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> seriesList, bgColor</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> bgColor)</span></span>
<span class="line"><span style="color:#F8F8F2">      ]</span></span>
<span class="line"><span style="color:#F8F8F2">    );</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  Color</span><span style="color:#A6E22E"> getBgColor</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    var</span><span style="color:#F8F8F2"> bgColor </span><span style="color:#F92672">=</span><span style="color:#66D9EF;font-style:italic"> ColorConstant</span><span style="color:#F8F8F2">.whiteA700;</span></span>
<span class="line"><span style="color:#88846F">    // make sure pokemon is not null</span></span>
<span class="line"><span style="color:#88846F">    // make sure pokemon type is set</span></span>
<span class="line"><span style="color:#F92672">    if</span><span style="color:#F8F8F2"> (isLoading </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> false</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#88846F">      // esnure pokemon is not null</span></span>
<span class="line"><span style="color:#F92672">      if</span><span style="color:#F8F8F2"> (pokemon </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">        return</span><span style="color:#F8F8F2"> bgColor;</span></span>
<span class="line"><span style="color:#F8F8F2">      }</span></span>
<span class="line"><span style="color:#F92672">      if</span><span style="color:#F8F8F2"> (pokemon.pokemonV2Pokemontypes </span><span style="color:#F92672">==</span><span style="color:#AE81FF"> null</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">        return</span><span style="color:#F8F8F2"> bgColor;</span></span>
<span class="line"><span style="color:#F8F8F2">      }</span></span>
<span class="line"><span style="color:#F92672">      if</span><span style="color:#F8F8F2"> (pokemon.pokemonV2Pokemontypes</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">.isEmpty) {</span></span>
<span class="line"><span style="color:#F92672">        return</span><span style="color:#F8F8F2"> bgColor;</span></span>
<span class="line"><span style="color:#F8F8F2">      }</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">      var</span><span style="color:#F8F8F2"> typeName </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> pokemon.pokemonV2Pokemontypes</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">[</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">].pokemonV2Type</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">.name</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">      var</span><span style="color:#F8F8F2"> colors </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> getColorsFromType</span><span style="color:#F8F8F2">(typeName);</span></span>
<span class="line"><span style="color:#88846F">      // update br color</span></span>
<span class="line"><span style="color:#F8F8F2">      bgColor </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> colors[</span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">].color</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F92672">    return</span><span style="color:#F8F8F2"> bgColor;</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"></span></code></pre>
<p>These are several more helper functions in the _PokemonDetailsScreenState class: buildMetrics(), buildChart(), and getBgColor().</p>
<p>The buildMetrics() function appears to build a widget displaying the weight and height of a Pokémon. It first gets the weight and height from the pokemonDetails variable. If this variable is null or the weight or height fields are null, the function returns a CircularProgressIndicator widget to indicate that data is still being loaded. If the weight and height fields are not null, the function converts the values from hectograms to kilograms and meters, respectively, and creates and returns a Row widget containing two PokemonMetric widgets, which are passed the name of the metric (e.g. “weight”), the value of the metric as a string, and an icon.</p>
<p>The buildChart() function appears to build a bar chart widget displaying the base stats of a Pokémon. It first gets the list of stats from the pokemonDetails variable. If this variable is null or the stats field is null or empty, the function returns an empty Container widget. If the list of stats is not empty, the function maps over the list of stats and creates a list of PokemonBaseStat objects, which are passed the name of the stat and its base value. This list of objects is then passed to a BarChartWidget along with a background color, and the resulting widget is returned wrapped in a Column widget.</p>
<p>The getBgColor() function appears to get the background color for the widget based on the type of the Pokémon. It first gets the list of types for the Pokémon from the pokemon variable. If this variable is null or the list of types is null or empty, the function returns a default background color. If the list of types is not empty, the function gets the name of the first type in the list and calls the getColorsFromType() function to get a list of colors associated with that type. The function then returns the second color in the list as the background color.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic">@override</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">Widget</span><span style="color:#A6E22E"> build</span><span style="color:#F8F8F2">(</span><span style="color:#66D9EF;font-style:italic">BuildContext</span><span style="color:#F8F8F2"> context) {</span></span>
<span class="line"><span style="color:#88846F">  // print pokemon id</span></span>
<span class="line"><span style="color:#88846F">  // get color from type</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  var</span><span style="color:#F8F8F2"> bgColor </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> getBgColor</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F92672">  return</span><span style="color:#66D9EF;font-style:italic"> SafeArea</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">      child</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> Scaffold</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">          backgroundColor</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> bgColor,</span></span>
<span class="line"><span style="color:#F8F8F2">          body</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> isLoading</span></span>
<span class="line"><span style="color:#F92672">              ?</span><span style="color:#66D9EF;font-style:italic"> Center</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                  child</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> CircularProgressIndicator</span><span style="color:#F8F8F2">(),</span></span>
<span class="line"><span style="color:#F8F8F2">                )</span></span>
<span class="line"><span style="color:#F92672">              :</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                  width</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> MediaQuery</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">of</span><span style="color:#F8F8F2">(context).size.width </span><span style="color:#F92672">*</span><span style="color:#AE81FF"> 1</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                  height</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> MediaQuery</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">of</span><span style="color:#F8F8F2">(context).size.height </span><span style="color:#F92672">*</span><span style="color:#AE81FF"> 1</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                  child</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> Column</span><span style="color:#F8F8F2">(children</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">                    PokemonHeader</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                      pokemon</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> pokemon,</span></span>
<span class="line"><span style="color:#F8F8F2">                    ),</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">                    Flexible</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                        child</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                            margin</span><span style="color:#F92672">:</span><span style="color:#A6E22E"> getMargin</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                              bottom</span><span style="color:#F92672">:</span><span style="color:#AE81FF"> 4</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                            ),</span></span>
<span class="line"><span style="color:#F8F8F2">                            padding</span><span style="color:#F92672">:</span><span style="color:#A6E22E"> getPadding</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                              left</span><span style="color:#F92672">:</span><span style="color:#AE81FF"> 20</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                              top</span><span style="color:#F92672">:</span><span style="color:#AE81FF"> 20</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                              right</span><span style="color:#F92672">:</span><span style="color:#AE81FF"> 20</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                              bottom</span><span style="color:#F92672">:</span><span style="color:#AE81FF"> 2</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                            ),</span></span>
<span class="line"><span style="color:#F8F8F2">                            decoration</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> AppDecoration</span><span style="color:#F8F8F2">.fillWhiteA700.</span><span style="color:#A6E22E">copyWith</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                              borderRadius</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> BorderRadiusStyle</span><span style="color:#F8F8F2">.roundedBorder8,</span></span>
<span class="line"><span style="color:#F8F8F2">                            ),</span></span>
<span class="line"><span style="color:#F8F8F2">                            child</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> Container</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                                height</span><span style="color:#F92672">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">                                    MediaQuery</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">of</span><span style="color:#F8F8F2">(context).size.height </span><span style="color:#F92672">*</span><span style="color:#AE81FF"> 1</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                                width</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> MediaQuery</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">of</span><span style="color:#F8F8F2">(context).size.width </span><span style="color:#F92672">*</span><span style="color:#AE81FF"> 1</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                                padding</span><span style="color:#F92672">:</span><span style="color:#A6E22E"> getPadding</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                                  left</span><span style="color:#F92672">:</span><span style="color:#AE81FF"> 10</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                                  top</span><span style="color:#F92672">:</span><span style="color:#AE81FF"> 8</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                                  right</span><span style="color:#F92672">:</span><span style="color:#AE81FF"> 10</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                                  bottom</span><span style="color:#F92672">:</span><span style="color:#AE81FF"> 8</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">                                ),</span></span>
<span class="line"><span style="color:#F8F8F2">                                child</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> ListView</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                                  children</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">                                    buildDescription</span><span style="color:#F8F8F2">(),</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">                                    PokemonTypes</span><span style="color:#F8F8F2">(pokemon</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> pokemon),</span></span>
<span class="line"><span style="color:#88846F">                                    // add padding between types and metrics</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">                                    SizedBox</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                                      height</span><span style="color:#F92672">:</span><span style="color:#A6E22E"> getVerticalSize</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">16</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">                                    ),</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">                                    Row</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                                      mainAxisAlignment</span><span style="color:#F92672">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">                                          MainAxisAlignment</span><span style="color:#F8F8F2">.spaceEvenly,</span></span>
<span class="line"><span style="color:#F8F8F2">                                      children</span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">                                        buildMetrics</span><span style="color:#F8F8F2">(),</span></span>
<span class="line"><span style="color:#A6E22E">                                        buildAbilities</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">                                      ],</span></span>
<span class="line"><span style="color:#F8F8F2">                                    ),</span></span>
<span class="line"><span style="color:#A6E22E">                                    buildChart</span><span style="color:#F8F8F2">(),</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">                                    SizedBox</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">                                      height</span><span style="color:#F92672">:</span><span style="color:#A6E22E"> getVerticalSize</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">64</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">                                    ),</span></span>
<span class="line"><span style="color:#F8F8F2">                                    </span></span>
<span class="line"><span style="color:#88846F">                                    // base stats, draw one chart with fl chart grab data dynamically</span></span>
<span class="line"><span style="color:#F8F8F2">                                  ],</span></span>
<span class="line"><span style="color:#F8F8F2">                                ),</span></span>
<span class="line"><span style="color:#F8F8F2">                                )))</span></span>
<span class="line"><span style="color:#F8F8F2">                  ]))));</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>This is the build() method of the _PokemonDetailsScreenState class, which is responsible for building the user interface for the PokemonDetailsScreen widget.</p>
<p>The build() method first gets the background color for the widget by calling the getBgColor() function. It then returns a Scaffold widget with a white background, which contains a Column widget as its body. The Column widget has a PokemonHeader widget as its first child, and a Flexible widget as its second child. The Flexible widget has a Container as its child, which in turn has a ListView widget as its child. The ListView widget has several children, including the buildDescription(), PokemonTypes, buildMetrics(), buildAbilities(), and buildChart() functions, which build widgets displaying the description, types, metrics, abilities, and base stats of the Pokémon, respectively.</p>
<p>To view the full app visit the GitHub repository.</p>
<ul>
<li><a href="https://github.com/FriendlyUser/flutter_pokedex">https://github.com/FriendlyUser/flutter_pokedex</a></li>
</ul> </astro-slot></content></div><div id="comments"></div></div></div></div><!--astro:end--></astro-island> <div class="mx-auto mt-5 max-w-prose flex justify-between gap-4 border-t border-gray-700 pt-8 text-sm text-gray-400 dark:text-gray-500"> <div class="w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Previous</div> <a class="text-blue-400 hover:underline" href="/posts/tech/2023/Using_PyJWT_for_JSON_Web_Token_Authentication_in_Python"> Using PyJWT for JSON Web Token Authentication in Python </a> </div> <div class="text-right w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Next</div> <a class="text-blue-400 hover:underline" href="/posts/tech/2023/Swift_Programming_Basics_A_Beginner's_Guide"> Swift Programming Basics A Beginner&#39;s Guide </a> </div> </div><div class="mt-6 text-center"> <a href="/posts" class="text-blue-400 hover:underline text-sm">
&larr; Back to blog
</a> </div> <astro-island uid="1KiplR" prefix="r0" component-url="/_astro/ScrollButtons.BdAHGQrx.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ScrollButtons&quot;,&quot;value&quot;:true}" await-children=""><div class="fixed bottom-8 right-8 z-50 flex flex-col gap-3 opacity-0 transition-opacity duration-300"><button aria-label="Scroll to comments" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll to top" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><!--astro:end--></astro-island>  </div> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2025<!-- --> by <!-- -->Dhanushka&#x27;s Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/dhanushka2001" target="_blank" rel="noopener noreferrer">Dhanushka</a>. Last updated on <!-- -->2025-07-11<!-- -->.</div></div></div> </body></html>