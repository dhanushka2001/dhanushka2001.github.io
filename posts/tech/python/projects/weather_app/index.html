<!DOCTYPE html><html lang="en"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Getting started with APIs in Python by building a weather app - Dhanushka&#39;s Blog</title><meta name="description" content="Describing how to build a weather app in Python"><meta name="author" content="Dhanushka Jayagoda"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/index.B_2FsOPP.css" />
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}@media print{.no-print,.no-print *{display:none!important}}
</style><script type="module" src="/_astro/hoisted.UksxmqGZ.js"></script></head> <body class="bg-slate-900 text-gray-100"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8P5P8FQ" height="0" width="0" style="display:none;visibility:hidden"></iframe> </noscript> <!-- End Google Tag Manager (noscript) --> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>Dhanushka&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/dhanushka2001/blog-astro">GitHub</a></li><li class="hover:text-white"><a href="/photos">Photos</a></li></ul></nav></div></div> <div data-pagefind-body>  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="1xW4Tg" prefix="r3" component-url="/_astro/BlogPost._FxswCuE.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;frontmatter&quot;:[0,{&quot;tags&quot;:[1,[[0,&quot;python&quot;],[0,&quot;weather&quot;]]],&quot;title&quot;:[0,&quot;Getting started with APIs in Python by building a weather app&quot;],&quot;description&quot;:[0,&quot;Describing how to build a weather app in Python&quot;],&quot;pubDate&quot;:[0,&quot;Mon, 20 September 2023&quot;],&quot;imgSrc&quot;:[0,&quot;/imgs/2023/3842597075.png&quot;],&quot;authors&quot;:[1,[[0,&quot;David Li&quot;]]],&quot;file&quot;:[0,&quot;/home/runner/work/blog-astro/blog-astro/src/pages/posts/tech/python/projects/weather_app.md&quot;],&quot;url&quot;:[0,&quot;/posts/tech/python/projects/weather_app&quot;]}]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;BlogPost&quot;,&quot;value&quot;:true}" await-children=""><div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">Getting started with APIs in Python by building a weather app</h1><div class="text-center text-sm text-gray-400"><div class="mt-1">Published:<!-- --> <!-- -->Sep 20, 2023</div><div class="mt-2 flex flex-wrap items-center justify-center gap-4"><div class="flex items-center space-x-2"><img src="/assets/images/avatars/david.png" alt="David Li" class="h-6 w-6 rounded-full object-cover" loading="lazy"/><a href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer" class="hover:underline">David Li</a></div></div></div><div class="flex place-content-center pt-2"><div class="rounded-md px-2 py-1 text-xs font-semibold bg-green-400 text-green-900"> <a href="/tags/python" style="padding-right:3px"> <category>python<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/weather" style="padding-right:3px"> <category>weather<!-- --> </category></a></div> </div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-h-2 aspect-w-3"><img class="h-full w-full rounded-lg object-cover object-center" src="/imgs/2023/3842597075.png" loading="lazy"/></div><div class="prose prose-invert mt-6 prose-img:rounded-lg"><content><astro-slot> <p>APIs (Application Programming Interfaces) are a great way to retrieve data from external sources, such as weather data from weather APIs. Here’s an example of how to retrieve weather data using the OpenWeatherMap API with Python:</p>
<ol>
<li>Sign up for an API key: To use the OpenWeatherMap API, you’ll need to sign up for an API key on their website.</li>
<li>Install the requests library: The requests library is a popular Python library for making HTTP requests, which you’ll need to retrieve data from the OpenWeatherMap API. You can install the requests library using pip:</li>
</ol>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">pip install requests</span></span></code></pre>
<ol start="3">
<li>Send a request to the OpenWeatherMap API: To retrieve weather data, you’ll need to send a request to the OpenWeatherMap API with your API key and the location you’re interested in. Here’s an example:</li>
</ol>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> requests</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">api_key </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> 'your-api-key'</span></span>
<span class="line"><span style="color:#F8F8F2">city </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> 'New York'</span></span>
<span class="line"><span style="color:#F8F8F2">url </span><span style="color:#F92672">=</span><span style="color:#66D9EF;font-style:italic"> f</span><span style="color:#E6DB74">'http://api.openweathermap.org/data/2.5/weather?q=</span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">city</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">&#x26;appid=</span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">api_key</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">response </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> requests.get(url)</span></span>
<span class="line"><span style="color:#F8F8F2">weather_data </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> response.json()</span></span></code></pre>
<p>In this example, we’re sending a GET request to the OpenWeatherMap API with our API key and the name of the city we’re interested in (New York). The API will respond with weather data in JSON format, which we can parse using the <code>json</code> method.</p>
<ol start="4">
<li>Extract the weather data: Once we have the weather data, we can extract the relevant information we’re interested in. Here’s an example:</li>
</ol>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">description </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> weather_data[</span><span style="color:#E6DB74">'weather'</span><span style="color:#F8F8F2">][</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">'description'</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#F8F8F2">temperature </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> weather_data[</span><span style="color:#E6DB74">'main'</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">'temp'</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">-</span><span style="color:#AE81FF"> 273.15</span></span>
<span class="line"><span style="color:#F8F8F2">humidity </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> weather_data[</span><span style="color:#E6DB74">'main'</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">'humidity'</span><span style="color:#F8F8F2">]</span></span></code></pre>
<p>In this example, we’re extracting the weather description, temperature (in Celsius), and humidity from the JSON response.</p>
<ol start="5">
<li>Use the weather data: Once we have the weather data, we can use it to make decisions, such as whether to wear a coat or bring an umbrella. We can also visualize the data using tools such as Matplotlib or Seaborn.</li>
</ol>
<p>APIs are a powerful tool for retrieving data from external sources, and can be used for a wide variety of applications, such as weather forecasting, stock market analysis, and social media sentiment analysis.</p>
<p>Building a weather app using Python’s tkinter library is a great way to practice your Python skills and create a useful application. Here’s a general outline of the steps involved in building a weather app:</p>
<ol>
<li>Design the user interface: Before you start coding, it’s important to design the user interface for your weather app. This will help you understand the layout of your app and the widgets you’ll need to implement.</li>
<li>Retrieve weather data: As described in the previous answer, you’ll need to retrieve weather data using an API such as OpenWeatherMap. Make sure to store your API key securely and retrieve data using the requests library.</li>
<li>Parse the weather data: Once you have the weather data, you’ll need to extract the relevant information such as temperature, humidity, and weather description. You can use the json library to parse the JSON data.</li>
<li>Display the weather data: After you’ve retrieved and parsed the weather data, you can display it in your app using labels or other widgets. You can also use icons or images to represent weather conditions.</li>
<li>Implement user input: You can add functionality to allow the user to input a city or location, which will update the weather data displayed in the app. You can use entry widgets to allow the user to enter text and buttons to submit the query.</li>
<li>Handle errors: Make sure to handle errors that may occur during the data retrieval and parsing process. You can use try-except blocks to handle exceptions and display error messages to the user.</li>
<li>Add extra features: Once you have the basic functionality of your weather app working, you can add extra features such as multiple city support, unit conversion, or weather alerts.</li>
</ol>
<p>Here’s an example code snippet that demonstrates how to retrieve and parse weather data using the OpenWeatherMap API:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> requests</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">api_key </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> 'your-api-key'</span></span>
<span class="line"><span style="color:#F8F8F2">city </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> 'New York'</span></span>
<span class="line"><span style="color:#F8F8F2">url </span><span style="color:#F92672">=</span><span style="color:#66D9EF;font-style:italic"> f</span><span style="color:#E6DB74">'http://api.openweathermap.org/data/2.5/weather?q=</span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">city</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">&#x26;appid=</span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">api_key</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">response </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> requests.get(url)</span></span>
<span class="line"><span style="color:#F8F8F2">weather_data </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> response.json()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">temperature </span><span style="color:#F92672">=</span><span style="color:#66D9EF"> round</span><span style="color:#F8F8F2">(weather_data[</span><span style="color:#E6DB74">'main'</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">'temp'</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">-</span><span style="color:#AE81FF"> 273.15</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">humidity </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> weather_data[</span><span style="color:#E6DB74">'main'</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">'humidity'</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#F8F8F2">description </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> weather_data[</span><span style="color:#E6DB74">'weather'</span><span style="color:#F8F8F2">][</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">'description'</span><span style="color:#F8F8F2">]</span></span></code></pre>
<p>In this example, we’re retrieving weather data for New York using the OpenWeatherMap API and parsing the temperature, humidity, and weather description from the JSON response. You can use these values to update the labels or other widgets in your weather app.</p>
<p>To handle user inputs and display weather information in your weather app, you’ll need to use the tkinter library to create widgets and bind them to event handlers. Here’s an example code snippet that demonstrates how to create an entry widget and a button that retrieves weather data for a user-specified city:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> tkinter </span><span style="color:#F92672">as</span><span style="color:#F8F8F2"> tk</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> requests</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">api_key </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> 'your-api-key'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">def</span><span style="color:#A6E22E"> get_weather</span><span style="color:#F8F8F2">():</span></span>
<span class="line"><span style="color:#F8F8F2"> city </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> city_entry.get()</span></span>
<span class="line"><span style="color:#F8F8F2"> url </span><span style="color:#F92672">=</span><span style="color:#66D9EF;font-style:italic"> f</span><span style="color:#E6DB74">'http://api.openweathermap.org/data/2.5/weather?q=</span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">city</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">&#x26;appid=</span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">api_key</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">'</span></span>
<span class="line"><span style="color:#F8F8F2"> response </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> requests.get(url)</span></span>
<span class="line"><span style="color:#F8F8F2"> weather_data </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> response.json()</span></span>
<span class="line"><span style="color:#F8F8F2"> temperature_label.config(</span><span style="color:#FD971F;font-style:italic">text</span><span style="color:#F92672">=</span><span style="color:#66D9EF;font-style:italic">f</span><span style="color:#E6DB74">'Temperature: </span><span style="color:#AE81FF">{</span><span style="color:#66D9EF">round</span><span style="color:#F8F8F2">(weather_data[</span><span style="color:#E6DB74">"main"</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"temp"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">-</span><span style="color:#AE81FF"> 273.15</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">)</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">°C'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2"> humidity_label.config(</span><span style="color:#FD971F;font-style:italic">text</span><span style="color:#F92672">=</span><span style="color:#66D9EF;font-style:italic">f</span><span style="color:#E6DB74">'Humidity: </span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">weather_data[</span><span style="color:#E6DB74">"main"</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"humidity"</span><span style="color:#F8F8F2">]</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">%'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2"> description_label.config(</span><span style="color:#FD971F;font-style:italic">text</span><span style="color:#F92672">=</span><span style="color:#66D9EF;font-style:italic">f</span><span style="color:#E6DB74">'Description: </span><span style="color:#AE81FF">{</span><span style="color:#F8F8F2">weather_data[</span><span style="color:#E6DB74">"weather"</span><span style="color:#F8F8F2">][</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"description"</span><span style="color:#F8F8F2">]</span><span style="color:#AE81FF">}</span><span style="color:#E6DB74">'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">root </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> tk.Tk()</span></span>
<span class="line"><span style="color:#F8F8F2">root.title(</span><span style="color:#E6DB74">'Weather App'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">city_label </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> tk.Label(root, </span><span style="color:#FD971F;font-style:italic">text</span><span style="color:#F92672">=</span><span style="color:#E6DB74">'City:'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">city_label.grid(</span><span style="color:#FD971F;font-style:italic">row</span><span style="color:#F92672">=</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">column</span><span style="color:#F92672">=</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">city_entry </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> tk.Entry(root)</span></span>
<span class="line"><span style="color:#F8F8F2">city_entry.grid(</span><span style="color:#FD971F;font-style:italic">row</span><span style="color:#F92672">=</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">column</span><span style="color:#F92672">=</span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">get_weather_button </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> tk.Button(root, </span><span style="color:#FD971F;font-style:italic">text</span><span style="color:#F92672">=</span><span style="color:#E6DB74">'Get Weather'</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">command</span><span style="color:#F92672">=</span><span style="color:#F8F8F2">get_weather)</span></span>
<span class="line"><span style="color:#F8F8F2">get_weather_button.grid(</span><span style="color:#FD971F;font-style:italic">row</span><span style="color:#F92672">=</span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">column</span><span style="color:#F92672">=</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">columnspan</span><span style="color:#F92672">=</span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">temperature_label </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> tk.Label(root, </span><span style="color:#FD971F;font-style:italic">text</span><span style="color:#F92672">=</span><span style="color:#E6DB74">'Temperature:'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">temperature_label.grid(</span><span style="color:#FD971F;font-style:italic">row</span><span style="color:#F92672">=</span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">column</span><span style="color:#F92672">=</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">humidity_label </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> tk.Label(root, </span><span style="color:#FD971F;font-style:italic">text</span><span style="color:#F92672">=</span><span style="color:#E6DB74">'Humidity:'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">humidity_label.grid(</span><span style="color:#FD971F;font-style:italic">row</span><span style="color:#F92672">=</span><span style="color:#AE81FF">3</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">column</span><span style="color:#F92672">=</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">description_label </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> tk.Label(root, </span><span style="color:#FD971F;font-style:italic">text</span><span style="color:#F92672">=</span><span style="color:#E6DB74">'Description:'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">description_label.grid(</span><span style="color:#FD971F;font-style:italic">row</span><span style="color:#F92672">=</span><span style="color:#AE81FF">4</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">column</span><span style="color:#F92672">=</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">root.mainloop()</span></span></code></pre>
<p>In this example, we’ve created an entry widget for the user to enter a city, a button to retrieve weather data, and labels to display the temperature, humidity, and weather description. The <code>get_weather</code> function is bound to the button’s <code>command</code> attribute and retrieves weather data using the OpenWeatherMap API. The retrieved data is then parsed and displayed in the labels using the <code>config</code> method.</p>
<p>When the user clicks the “Get Weather” button, the <code>get_weather</code> function is called, which retrieves weather data for the city specified in the entry widget. The temperature, humidity, and weather description are then displayed in the corresponding labels.</p>
<p>Note that this is just a basic example and you can customize the layout and functionality of your weather app to suit your needs. You can also add error handling and other features to make your app more robust and user-friendly.</p> </astro-slot></content></div><div id="comments"></div></div></div></div><!--astro:end--></astro-island> <div class="mx-auto mt-5 max-w-prose flex justify-between gap-4 border-t border-gray-700 pt-8 text-sm text-gray-400 dark:text-gray-500"> <div class="w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Previous</div> <a class="text-blue-400 hover:underline" href="/posts/tech/rust/getting_started_with_ta_in_rust"> Performing Technical Analysis in Rust </a> </div> <div class="text-right w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Next</div> <a class="text-blue-400 hover:underline" href="/posts/tech/python/chatgpt_blog_generation"> Using chatgpt to generate blog posts </a> </div> </div><div class="mt-6 text-center"> <a href="/posts" class="text-blue-400 hover:underline text-sm">
&larr; Back to blog
</a> </div> <astro-island uid="1KiplR" prefix="r0" component-url="/_astro/ScrollButtons.BdAHGQrx.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ScrollButtons&quot;,&quot;value&quot;:true}" await-children=""><div class="fixed bottom-8 right-8 z-50 flex flex-col gap-3 opacity-0 transition-opacity duration-300"><button aria-label="Scroll to comments" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll to top" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><!--astro:end--></astro-island>  </div> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2025<!-- --> by <!-- -->Dhanushka&#x27;s Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/dhanushka2001" target="_blank" rel="noopener noreferrer">Dhanushka</a>. Last updated on <!-- -->2025-07-11<!-- -->.</div></div></div> </body></html>