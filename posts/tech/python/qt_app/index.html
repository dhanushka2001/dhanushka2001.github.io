<!DOCTYPE html><html lang="en"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>How I will describe how to make a qt app that edits a yaml file. - Dhanushka&#39;s Blog</title><meta name="description" content="Using qt in python, we can create a qt app to modify/save yaml files."><meta name="author" content="Dhanushka Jayagoda"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/index.B_2FsOPP.css" />
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}@media print{.no-print,.no-print *{display:none!important}}
</style><script type="module" src="/_astro/hoisted.UksxmqGZ.js"></script></head> <body class="bg-slate-900 text-gray-100"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8P5P8FQ" height="0" width="0" style="display:none;visibility:hidden"></iframe> </noscript> <!-- End Google Tag Manager (noscript) --> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>Dhanushka&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/dhanushka2001/blog-astro">GitHub</a></li><li class="hover:text-white"><a href="/photos">Photos</a></li></ul></nav></div></div> <div data-pagefind-body>  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="hJ7py" prefix="r3" component-url="/_astro/BlogPost._FxswCuE.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;frontmatter&quot;:[0,{&quot;tags&quot;:[1,[[0,&quot;python&quot;],[0,&quot;qt&quot;]]],&quot;title&quot;:[0,&quot;How I will describe how to make a qt app that edits a yaml file.&quot;],&quot;description&quot;:[0,&quot;Using qt in python, we can create a qt app to modify/save yaml files.&quot;],&quot;pubDate&quot;:[0,&quot;Fri, 21 July 2024&quot;],&quot;imgSrc&quot;:[0,&quot;/imgs/2023/2890612218.png&quot;],&quot;authors&quot;:[1,[[0,&quot;David Li&quot;]]],&quot;file&quot;:[0,&quot;/home/runner/work/blog-astro/blog-astro/src/pages/posts/tech/python/qt_app.md&quot;],&quot;url&quot;:[0,&quot;/posts/tech/python/qt_app&quot;]}]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;BlogPost&quot;,&quot;value&quot;:true}" await-children=""><div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">How I will describe how to make a qt app that edits a yaml file.</h1><div class="text-center text-sm text-gray-400"><div class="mt-1">Published:<!-- --> <!-- -->Jul 21, 2024</div><div class="mt-2 flex flex-wrap items-center justify-center gap-4"><div class="flex items-center space-x-2"><img src="/assets/images/avatars/david.png" alt="David Li" class="h-6 w-6 rounded-full object-cover" loading="lazy"/><a href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer" class="hover:underline">David Li</a></div></div></div><div class="flex place-content-center pt-2"><div class="rounded-md px-2 py-1 text-xs font-semibold bg-green-400 text-green-900"> <a href="/tags/python" style="padding-right:3px"> <category>python<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/qt" style="padding-right:3px"> <category>qt<!-- --> </category></a></div> </div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-h-2 aspect-w-3"><img class="h-full w-full rounded-lg object-cover object-center" src="/imgs/2023/2890612218.png" loading="lazy"/></div><div class="prose prose-invert mt-6 prose-img:rounded-lg"><content><astro-slot> <p>Qt is a cross-platform application development framework that is widely used for developing desktop, mobile, and embedded applications. It provides a comprehensive set of libraries and tools for building graphical user interfaces (GUIs), network and database connectivity, and other essential functionalities for application development. Qt is written in C++, but it also has bindings for other programming languages, such as Python and Java. It is developed by The Qt Company and was first released in 1995.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F92672"> import</span><span style="color:#F8F8F2"> yaml</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> sys</span></span>
<span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> os</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">from</span><span style="color:#F8F8F2"> PyQt6.QtWidgets </span><span style="color:#F92672">import</span><span style="color:#F8F8F2"> QApplication, QMainWindow, QGridLayout, QLabel, QLineEdit, QTextEdit, QPushButton, QComboBox, QWidget, QVBoxLayout, QHBoxLayout, QListWidget, QMessageBox, QInputDialog, QFileDialog </span></span></code></pre>
<p>The above code is a Python script that imports several modules, including <code>yaml</code>, <code>sys</code>, and <code>os</code>. It also imports various classes and widgets from the PyQt6.QtWidgets module, which is part of the PyQt6 library for creating GUI applications.</p>
<p>The classes and widgets that are imported include <code>QApplication</code>, <code>QMainWindow</code>, <code>QGridLayout</code>, <code>QLabel</code>, <code>QLineEdit</code>, <code>QTextEdit</code>, <code>QPushButton</code>, <code>QComboBox</code>, <code>QWidget</code>, <code>QVBoxLayout</code>, <code>QHBoxLayout</code>, <code>QListWidget</code>, <code>QMessageBox</code>, <code>QInputDialog</code>, and <code>QFileDialog</code>. These are all used to create different elements of the GUI, such as labels, text boxes, buttons, and file dialogs.</p>
<p>Overall, this code sets up the basic framework for a GUI application that can be used to edit YAML files. The specific functionality of the application will depend on how these widgets are used and connected to the underlying data and YAML parsing code.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">YamlEditor</span><span style="color:#F8F8F2">(</span><span style="color:#A6E22E;font-style:italic;text-decoration:underline">QMainWindow</span><span style="color:#F8F8F2">):</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    def</span><span style="color:#66D9EF"> __init__</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">self</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">yaml_file</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">        super</span><span style="color:#F8F8F2">().</span><span style="color:#66D9EF">__init__</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.yaml_file </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> yaml_file </span></span></code></pre>
<p>The above code defines a class called <code>YamlEditor</code> that inherits from the <code>QMainWindow</code> class of PyQt6. The <code>__init__</code> method of the class takes a <code>yaml_file</code> argument and initializes it as an instance variable.</p>
<p>This class can be used to create an instance of a YAML editor window, which can then be used to edit the contents of a YAML file. The <code>yaml_file</code> argument passed to the constructor can be used to specify the file that the editor should load initially.</p>
<p>Other methods can be added to the <code>YamlEditor</code> class to provide additional functionality, such as methods for parsing the YAML file and displaying its contents in the editor, or methods for saving the edited YAML back to the file. These methods can be connected to the various GUI elements created in the previous code block to provide a complete YAML editing application.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2"> </span></span>
<span class="line"><span style="color:#88846F">        # Create widgets</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.prompt_label </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QLabel(</span><span style="color:#E6DB74">"Prompt:"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.prompt_edit </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QLineEdit(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.yaml_data[</span><span style="color:#E6DB74">"imageArgs"</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"prompt"</span><span style="color:#F8F8F2">])</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.tags_label </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QLabel(</span><span style="color:#E6DB74">"Tags:"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.tags_edit </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QLineEdit(</span><span style="color:#E6DB74">", "</span><span style="color:#F8F8F2">.join(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.yaml_data[</span><span style="color:#E6DB74">"frontMatter"</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"tags"</span><span style="color:#F8F8F2">]))</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.title_label </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QLabel(</span><span style="color:#E6DB74">"Title:"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.title_edit </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QLineEdit(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.yaml_data[</span><span style="color:#E6DB74">"frontMatter"</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"title"</span><span style="color:#F8F8F2">])</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.description_label </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QLabel(</span><span style="color:#E6DB74">"Description:"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.description_edit </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QTextEdit(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.yaml_data[</span><span style="color:#E6DB74">"frontMatter"</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"description"</span><span style="color:#F8F8F2">])</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.sections_label </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QLabel(</span><span style="color:#E6DB74">"Sections:"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.sections_list </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QListWidget()</span></span>
<span class="line"><span style="color:#88846F">        # self.sections_list.addItems(self.yaml_data.get("sections", []))</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.add_section_button </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QPushButton(</span><span style="color:#E6DB74">"Add Section"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.remove_section_button </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QPushButton(</span><span style="color:#E6DB74">"Remove Section"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.save_button </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QPushButton(</span><span style="color:#E6DB74">"Save"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2"> </span></span></code></pre>
<p>The above code creates various PyQt6 widgets that are used to display and edit the contents of a YAML file.</p>
<p>The widgets include:</p>
<ul>
<li><code>QLabel</code> objects, which are used to display text labels for the various fields in the YAML file.</li>
<li><code>QLineEdit</code> objects, which are used to allow the user to edit simple text fields in the YAML file.</li>
<li><code>QTextEdit</code> objects, which are used to allow the user to edit longer text fields in the YAML file.</li>
<li><code>QListWidget</code> object, which is used to display and edit a list of items in the YAML file.</li>
<li><code>QPushButton</code> objects, which are used to allow the user to interact with the application by triggering actions, such as adding or removing sections or saving changes.</li>
</ul>
<p>These widgets are arranged in the GUI layout using various PyQt6 layout managers, such as <code>QVBoxLayout</code>, <code>QHBoxLayout</code>, and <code>QGridLayout</code>. This code sets up the basic structure of the YAML editor GUI, which can be further customized and connected to the underlying YAML parsing code to create a fully functional YAML editor application.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2"> </span></span>
<span class="line"><span style="color:#88846F">        # Connect signals</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.add_section_button.clicked.connect(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.add_section)</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.remove_section_button.clicked.connect(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.remove_section)</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.save_button.clicked.connect(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.save_yaml)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.load_button.clicked.connect(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.external_yaml)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">        # Set layout</span></span>
<span class="line"><span style="color:#F8F8F2">        central_widget </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QWidget()</span></span>
<span class="line"><span style="color:#F8F8F2">        main_layout </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QVBoxLayout()</span></span>
<span class="line"><span style="color:#F8F8F2">        grid_layout </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QGridLayout()</span></span>
<span class="line"><span style="color:#F8F8F2">        grid_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.prompt_label, </span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        grid_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.prompt_edit, </span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        grid_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.tags_label, </span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        grid_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.tags_edit, </span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        grid_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.title_label, </span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        grid_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.title_edit, </span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        grid_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.description_label, </span><span style="color:#AE81FF">3</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        grid_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.description_edit, </span><span style="color:#AE81FF">3</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        main_layout.addLayout(grid_layout)</span></span>
<span class="line"><span style="color:#F8F8F2">        main_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.sections_label)</span></span>
<span class="line"><span style="color:#F8F8F2">        main_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.sections_list)</span></span>
<span class="line"><span style="color:#F8F8F2">        buttons_layout </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QHBoxLayout()</span></span>
<span class="line"><span style="color:#F8F8F2">        buttons_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.add_section_button)</span></span>
<span class="line"><span style="color:#F8F8F2">        buttons_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.remove_section_button)</span></span>
<span class="line"><span style="color:#F8F8F2">        main_layout.addLayout(buttons_layout)</span></span>
<span class="line"><span style="color:#F8F8F2">        central_widget.setLayout(main_layout)</span></span>
<span class="line"><span style="color:#88846F">        # add another section for save button and load button</span></span>
<span class="line"><span style="color:#F8F8F2">        bottom_buttons_layout </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QHBoxLayout()</span></span>
<span class="line"><span style="color:#F8F8F2">        bottom_buttons_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.save_button)</span></span>
<span class="line"><span style="color:#F8F8F2">        bottom_buttons_layout.addWidget(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.load_button)</span></span>
<span class="line"><span style="color:#F8F8F2">        main_layout.addLayout(bottom_buttons_layout) </span></span></code></pre>
<p>The above code connects various signals to the PyQt6 widgets that were created earlier.</p>
<p>The <code>clicked</code> signal of the <code>QPushButton</code> objects are connected to their respective callback methods using the <code>connect</code> method. Specifically, the <code>add_section</code> method is connected to the <code>add_section_button</code>, the <code>remove_section</code> method is connected to the <code>remove_section_button</code>, and the <code>save_yaml</code> method is connected to the <code>save_button</code>.</p>
<p>Additionally, the <code>clicked</code> signal of the <code>load_button</code> is connected to a method called <code>external_yaml</code>, which presumably loads an external YAML file into the editor.</p>
<p>The code then sets up the layout of the various PyQt6 widgets using layout managers. A <code>QVBoxLayout</code> is used as the main layout, with a <code>QGridLayout</code> used to arrange the various <code>QLabel</code> and <code>QLineEdit</code> widgets for the different YAML fields. The <code>QListWidget</code> object for sections is added to the main layout, along with <code>QHBoxLayout</code> objects to arrange the <code>QPushButton</code> objects for adding and removing sections.</p>
<p>Finally, another <code>QHBoxLayout</code> is added to the bottom of the main layout to hold the <code>save_button</code> and <code>load_button</code> objects.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2"> </span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    def</span><span style="color:#A6E22E"> set_values_from_yaml</span><span style="color:#F8F8F2">():</span></span>
<span class="line"><span style="color:#88846F">        # when the yaml file is loaded, set the values in the editor</span></span>
<span class="line"><span style="color:#F92672">        pass</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    def</span><span style="color:#A6E22E"> external_yaml</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">self</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#88846F">        # file_dialog.setNameFilter()</span></span>
<span class="line"><span style="color:#F8F8F2">        file_dialog </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QFileDialog.getOpenFileName(</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic">            parent</span><span style="color:#F92672">=</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic">            caption</span><span style="color:#F92672">=</span><span style="color:#E6DB74">'Select a file'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic">            directory</span><span style="color:#F92672">=</span><span style="color:#F8F8F2">os.getcwd(),</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic">            filter</span><span style="color:#F92672">=</span><span style="color:#E6DB74">"YAML files (*.yaml *.yml)"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">        )</span></span>
<span class="line"><span style="color:#F8F8F2">        filename, filter_name </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> file_dialog</span></span>
<span class="line"><span style="color:#66D9EF">        print</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"filename"</span><span style="color:#F8F8F2">, filename)</span></span>
<span class="line"><span style="color:#66D9EF">        print</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"filter_name"</span><span style="color:#F8F8F2">, filter_name)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.yaml_file </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> filename</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.yaml_data </span><span style="color:#F92672">=</span><span style="color:#FD971F"> self</span><span style="color:#F8F8F2">.load_yaml()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    def</span><span style="color:#A6E22E"> load_yaml</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">self</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#F92672">        try</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#F92672">            with</span><span style="color:#66D9EF"> open</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.yaml_file, </span><span style="color:#E6DB74">"r"</span><span style="color:#F8F8F2">) </span><span style="color:#F92672">as</span><span style="color:#F8F8F2"> f:</span></span>
<span class="line"><span style="color:#F92672">                return</span><span style="color:#F8F8F2"> yaml.safe_load(f)</span></span>
<span class="line"><span style="color:#F92672">        except</span><span style="color:#66D9EF;font-style:italic"> FileNotFoundError</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#F92672">            return</span><span style="color:#F8F8F2"> {</span><span style="color:#E6DB74">"imageArgs"</span><span style="color:#F8F8F2">: {</span><span style="color:#E6DB74">"prompt"</span><span style="color:#F8F8F2">: </span><span style="color:#E6DB74">""</span><span style="color:#F8F8F2">}, </span><span style="color:#E6DB74">"frontMatter"</span><span style="color:#F8F8F2">: {</span><span style="color:#E6DB74">"tags"</span><span style="color:#F8F8F2">: [], </span><span style="color:#E6DB74">"title"</span><span style="color:#F8F8F2">: </span><span style="color:#E6DB74">""</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"description"</span><span style="color:#F8F8F2">: </span><span style="color:#E6DB74">""</span><span style="color:#F8F8F2">}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    def</span><span style="color:#A6E22E"> add_section</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">self</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#F8F8F2">        section, ok </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QInputDialog.getText(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"Add Section"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"Enter section title:"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F92672">        if</span><span style="color:#F8F8F2"> ok </span><span style="color:#F92672">and</span><span style="color:#F8F8F2"> section:</span></span>
<span class="line"><span style="color:#FD971F">            self</span><span style="color:#F8F8F2">.sections_list.addItem(section)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    def</span><span style="color:#A6E22E"> remove_section</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">self</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#F8F8F2">        current_row </span><span style="color:#F92672">=</span><span style="color:#FD971F"> self</span><span style="color:#F8F8F2">.sections_list.currentRow()</span></span>
<span class="line"><span style="color:#F92672">        if</span><span style="color:#F8F8F2"> current_row </span><span style="color:#F92672">!=</span><span style="color:#F92672"> -</span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#FD971F">            self</span><span style="color:#F8F8F2">.sections_list.takeItem(current_row)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    def</span><span style="color:#A6E22E"> save_yaml</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">self</span><span style="color:#F8F8F2">):</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.yaml_data[</span><span style="color:#E6DB74">"imageArgs"</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"prompt"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">=</span><span style="color:#FD971F"> self</span><span style="color:#F8F8F2">.prompt_edit.text()</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.yaml_data[</span><span style="color:#E6DB74">"frontMatter"</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"tags"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> [tag.strip() </span><span style="color:#F92672">for</span><span style="color:#F8F8F2"> tag </span><span style="color:#F92672">in</span><span style="color:#FD971F"> self</span><span style="color:#F8F8F2">.tags_edit.text().split(</span><span style="color:#E6DB74">","</span><span style="color:#F8F8F2">)]</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.yaml_data[</span><span style="color:#E6DB74">"frontMatter"</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"title"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">=</span><span style="color:#FD971F"> self</span><span style="color:#F8F8F2">.title_edit.text()</span></span>
<span class="line"><span style="color:#FD971F">        self</span><span style="color:#F8F8F2">.yaml_data[</span><span style="color:#E6DB74">"frontMatter"</span><span style="color:#F8F8F2">][</span><span style="color:#E6DB74">"description"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">=</span><span style="color:#FD971F"> self</span><span style="color:#F8F8F2">.description_edit.toPlainText()</span></span>
<span class="line"><span style="color:#88846F">        # save sections if they exist</span></span>
<span class="line"><span style="color:#F92672">        if</span><span style="color:#FD971F"> self</span><span style="color:#F8F8F2">.sections_list.count() </span><span style="color:#F92672">></span><span style="color:#AE81FF"> 0</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#FD971F">            self</span><span style="color:#F8F8F2">.yaml_data[</span><span style="color:#E6DB74">"sections"</span><span style="color:#F8F8F2">] </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> [</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.sections_list.item(i).text() </span><span style="color:#F92672">for</span><span style="color:#F8F8F2"> i </span><span style="color:#F92672">in</span><span style="color:#66D9EF"> range</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.sections_list.count())]</span></span>
<span class="line"><span style="color:#F92672">        with</span><span style="color:#66D9EF"> open</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"data.yaml"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"w"</span><span style="color:#F8F8F2">) </span><span style="color:#F92672">as</span><span style="color:#F8F8F2"> f:</span></span>
<span class="line"><span style="color:#F8F8F2">            yaml.dump(</span><span style="color:#FD971F">self</span><span style="color:#F8F8F2">.yaml_data, f)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">        # Show a message box to indicate that the data has been saved</span></span>
<span class="line"><span style="color:#F8F8F2">        msg_box </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QMessageBox()</span></span>
<span class="line"><span style="color:#F8F8F2">        msg_box.setText(</span><span style="color:#E6DB74">"Data has been saved."</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        msg_box.exec() </span></span></code></pre>
<p>This is the implementation of several functions in the YamlEditor class that enable the user to load a YAML file, set the values of the widgets in the editor to the values in the YAML file, add and remove sections, and save the edited YAML file.</p>
<p>The <code>external_yaml</code> method opens a file dialog and prompts the user to select a YAML file. If a file is selected, the <code>load_yaml</code> method is called to load the YAML file and set the values of the widgets in the editor.</p>
<p>The <code>load_yaml</code> method attempts to open the specified YAML file and load its contents using <code>yaml.safe_load</code>. If the file does not exist, it returns a default YAML data structure.</p>
<p>The <code>add_section</code> method prompts the user to enter a section title and adds the title to the sections list widget.</p>
<p>The <code>remove_section</code> method removes the currently selected section from the sections list widget.</p>
<p>The <code>save_yaml</code> method saves the edited YAML data to a file named “data.yaml”. It sets the values of the YAML data to the current values of the widgets in the editor, including the prompt, tags, title, and description, as well as any sections that have been added. After saving the file, it displays a message box indicating that the data has been saved.</p>
<p>All of these methods are connected to the appropriate signals emitted by the widgets in the editor, such as button clicks, to ensure that the user’s changes are properly reflected in the editor and saved to the YAML file.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2"> </span></span>
<span class="line"><span style="color:#F92672">if</span><span style="color:#F8F8F2"> __name__ </span><span style="color:#F92672">==</span><span style="color:#E6DB74"> "__main__"</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#F8F8F2">    app </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QApplication(sys.argv)</span></span>
<span class="line"><span style="color:#F8F8F2">    editor </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> YamlEditor(</span><span style="color:#E6DB74">"posts/chatgpt_chrome_extension.yml"</span><span style="color:#F8F8F2">) </span></span></code></pre>
<p>It looks like you are creating an instance of the <code>YamlEditor</code> class with the YAML file <code>posts/chatgpt_chrome_extension.yml</code>. After creating the instance, you can call <code>editor.show()</code> to display the window and start the application event loop. Here’s an example:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F44747">`</span><span style="color:#F92672">if</span><span style="color:#F44747"> __name__ </span><span style="color:#F92672">==</span><span style="color:#E6DB74"> "__main__"</span><span style="color:#F44747">:</span></span>
<span class="line"><span style="color:#F8F8F2"> app </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> QApplication(sys.argv)</span></span>
<span class="line"><span style="color:#F8F8F2"> editor </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> YamlEditor(</span><span style="color:#E6DB74">"posts/chatgpt\_chrome\_extension.yml"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2"> editor.show()</span></span>
<span class="line"><span style="color:#F8F8F2"> sys.exit(app.exec())</span><span style="color:#F44747">`</span></span></code></pre>
<p>This will create the application, create the editor window with the specified YAML file, show the window, and start the event loop. The <code>sys.exit()</code> call ensures that the application exits cleanly when the event loop is exited.</p>
<p>Qt is an important framework because it provides a comprehensive set of tools for developing graphical user interfaces (GUIs) and cross-platform applications. It allows developers to write code once and deploy it on multiple platforms without having to rewrite the code for each platform. This saves a lot of time and effort in software development. Qt also provides a wide range of features and functionality, making it a versatile tool for developing applications ranging from small utilities to large, complex systems. Additionally, Qt has a large and active developer community, which provides support, documentation, and resources to developers using the framework.</p> </astro-slot></content></div><div id="comments"></div></div></div></div><!--astro:end--></astro-island> <div class="mx-auto mt-5 max-w-prose flex justify-between gap-4 border-t border-gray-700 pt-8 text-sm text-gray-400 dark:text-gray-500"> <div class="w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Previous</div> <a class="text-blue-400 hover:underline" href="/posts/tech/2023/Introduction_to_the_Android_Retrofit_Networking_Library"> Introduction to the Android Retrofit Networking Library </a> </div> <div class="text-right w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Next</div> <a class="text-blue-400 hover:underline" href="/posts/tech/html_introduction"> Introduction to csharp </a> </div> </div><div class="mt-6 text-center"> <a href="/posts" class="text-blue-400 hover:underline text-sm">
&larr; Back to blog
</a> </div> <astro-island uid="1KiplR" prefix="r0" component-url="/_astro/ScrollButtons.BdAHGQrx.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ScrollButtons&quot;,&quot;value&quot;:true}" await-children=""><div class="fixed bottom-8 right-8 z-50 flex flex-col gap-3 opacity-0 transition-opacity duration-300"><button aria-label="Scroll to comments" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll to top" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><!--astro:end--></astro-island>  </div> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2025<!-- --> by <!-- -->Dhanushka&#x27;s Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/dhanushka2001" target="_blank" rel="noopener noreferrer">Dhanushka</a>. Last updated on <!-- -->2025-07-11<!-- -->.</div></div></div> </body></html>