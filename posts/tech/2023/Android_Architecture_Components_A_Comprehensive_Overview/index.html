<!DOCTYPE html><html lang="en"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Android Architecture Components A Comprehensive Overview - Dhanushka&#39;s Blog</title><meta name="description" content="In this article , we will delve into the various components of AAC, explaining their usage and benefits to Android developers"><meta name="author" content="Dhanushka Jayagoda"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/index.B_2FsOPP.css" />
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}@media print{.no-print,.no-print *{display:none!important}}
</style><script type="module" src="/_astro/hoisted.UksxmqGZ.js"></script></head> <body class="bg-slate-900 text-gray-100"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8P5P8FQ" height="0" width="0" style="display:none;visibility:hidden"></iframe> </noscript> <!-- End Google Tag Manager (noscript) --> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>Dhanushka&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/dhanushka2001/blog-astro">GitHub</a></li><li class="hover:text-white"><a href="/photos">Photos</a></li></ul></nav></div></div> <div data-pagefind-body>  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="Z1TS3vR" prefix="r3" component-url="/_astro/BlogPost._FxswCuE.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Android Architecture Components A Comprehensive Overview&quot;],&quot;pubDate&quot;:[0,&quot;2023-08-17T05:09:31.000Z&quot;],&quot;description&quot;:[0,&quot;In this article , we will delve into the various components of AAC, explaining their usage and benefits to Android developers&quot;],&quot;tags&quot;:[1,[]],&quot;imgSrc&quot;:[0,&quot;/imgs/2023/2223533571.png&quot;],&quot;authors&quot;:[1,[[0,&quot;David Li&quot;]]],&quot;file&quot;:[0,&quot;/home/runner/work/blog-astro/blog-astro/src/pages/posts/tech/2023/Android_Architecture_Components_A_Comprehensive_Overview.md&quot;],&quot;url&quot;:[0,&quot;/posts/tech/2023/Android_Architecture_Components_A_Comprehensive_Overview&quot;]}]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;BlogPost&quot;,&quot;value&quot;:true}" await-children=""><div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">Android Architecture Components A Comprehensive Overview</h1><div class="text-center text-sm text-gray-400"><div class="mt-1">Published:<!-- --> <!-- -->Aug 17, 2023</div><div class="mt-2 flex flex-wrap items-center justify-center gap-4"><div class="flex items-center space-x-2"><img src="/assets/images/avatars/david.png" alt="David Li" class="h-6 w-6 rounded-full object-cover" loading="lazy"/><a href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer" class="hover:underline">David Li</a></div></div></div><div class="flex place-content-center pt-2"></div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-h-2 aspect-w-3"><img class="h-full w-full rounded-lg object-cover object-center" src="/imgs/2023/2223533571.png" loading="lazy"/></div><div class="prose prose-invert mt-6 prose-img:rounded-lg"><content><astro-slot> <h1 id="android-architecture-components-a-comprehensive-overview">Android Architecture Components: A Comprehensive Overview</h1>
<p>Android Architecture Components (AAC) are a collection of libraries designed to help developers build robust, maintainable, and testable applications. Developed by Google, these components provide a solid foundation for creating applications that adhere to best practices and architectural patterns. In this article, we will delve into the various components of AAC, explaining their usage and benefits to Android developers.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#livedata">LiveData</a></li>
<li><a href="#viewmodel">ViewModel</a></li>
<li><a href="#room-persistence-library">Room Persistence Library</a></li>
<li><a href="#databinding">DataBinding</a></li>
<li><a href="#workmanager">WorkManager</a></li>
<li><a href="#navigation-component">Navigation Component</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
<h2 id="introduction">Introduction</h2>
<p>In the past, Android developers faced several challenges while creating applications, such as handling lifecycle events, managing UI components, or persisting data. Android Architecture Components provide a set of tools and guidelines to address these issues, making it easier for developers to craft scalable and maintainable apps.</p>
<p>Here is a list of key AAC components that we will discuss in this article:</p>
<ul>
<li>LiveData</li>
<li>ViewModel</li>
<li>Room Persistence Library</li>
<li>DataBinding</li>
<li>WorkManager</li>
<li>Navigation Component</li>
</ul>
<h2 id="livedata">LiveData</h2>
<p><strong>LiveData</strong> is an observable data holder class designed to handle lifecycle-aware data. It respects the lifecycle of other app components, such as Activities, Fragments, or Services, and automatically manages subscription and unsubscription operations. LiveData ensures that UI components receive updates only when they are in an active state, avoiding common issues like memory leaks or crashes due to stopped activities.</p>
<h3 id="advantages">Advantages</h3>
<ul>
<li>Ensures UI components are only updated when they are active.</li>
<li>Reduces boilerplate code for handling lifecycle events.</li>
<li>Provides a consistent way to observe data changes across the application.</li>
</ul>
<h3 id="usage">Usage</h3>
<p>To use LiveData, wrap your data source with <code>LiveData</code> and expose it through a method. You can then observe the LiveData instance in your UI components, such as Activities or Fragments, providing a <code>LifecycleOwner</code> and an <code>Observer</code> for handling data updates.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">UserViewModel</span><span style="color:#F8F8F2"> : </span><span style="color:#A6E22E;text-decoration:underline">ViewModel</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#F92672">    private</span><span style="color:#66D9EF;font-style:italic"> val</span><span style="color:#F8F8F2"> _userLiveData </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> MutableLiveData</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">User</span><span style="color:#F8F8F2">>()</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    val</span><span style="color:#F8F8F2"> userLiveData: </span><span style="color:#A6E22E;text-decoration:underline">LiveData</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">User</span><span style="color:#F8F8F2">> </span><span style="color:#A6E22E;text-decoration:underline">get</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> _userLiveData</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    fun</span><span style="color:#A6E22E"> loadUser</span><span style="color:#F8F8F2">(userId: </span><span style="color:#A6E22E;text-decoration:underline">String</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#88846F">        // Load user data from a repository and update _userLiveData</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">UserActivity</span><span style="color:#F8F8F2"> : </span><span style="color:#A6E22E;text-decoration:underline">AppCompatActivity</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#F92672">    private</span><span style="color:#F92672"> lateinit</span><span style="color:#66D9EF;font-style:italic"> var</span><span style="color:#F8F8F2"> userViewModel: </span><span style="color:#A6E22E;text-decoration:underline">UserViewModel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">    override</span><span style="color:#66D9EF;font-style:italic"> fun</span><span style="color:#A6E22E"> onCreate</span><span style="color:#F8F8F2">(savedInstanceState: </span><span style="color:#A6E22E;text-decoration:underline">Bundle</span><span style="color:#F8F8F2">?) {</span></span>
<span class="line"><span style="color:#FD971F">        super</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">onCreate</span><span style="color:#F8F8F2">(savedInstanceState)</span></span>
<span class="line"><span style="color:#A6E22E">        setContentView</span><span style="color:#F8F8F2">(R.layout.activity_user)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        userViewModel </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> ViewModelProvider</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F">this</span><span style="color:#F8F8F2">).</span><span style="color:#A6E22E">get</span><span style="color:#F8F8F2">(UserViewModel::</span><span style="color:#A6E22E">class</span><span style="color:#F8F8F2">.java)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        userViewModel.userLiveData.</span><span style="color:#A6E22E">observe</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F">this</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">Observer</span><span style="color:#F8F8F2"> { user </span><span style="color:#66D9EF;font-style:italic">-></span></span>
<span class="line"><span style="color:#88846F">            // Update UI with the new user data</span></span>
<span class="line"><span style="color:#F8F8F2">        })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">        // Load user data        val userId = "123"</span></span>
<span class="line"><span style="color:#F8F8F2">        userViewModel.</span><span style="color:#A6E22E">loadUser</span><span style="color:#F8F8F2">(userId)</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<h2 id="viewmodel">ViewModel</h2>
<p><strong>ViewModel</strong> is a class designed to store and manage UI-related data in a lifecycle-conscious way. Its main purpose is to separate data handling from UI components, such as Activities or Fragments, and to preserve data during configuration changes, such as screen rotations. ViewModel instances are automatically retained during configuration changes and are not destroyed until their associated UI component is permanently removed.</p>
<h3 id="advantages-1">Advantages</h3>
<ul>
<li>Preserves data during configuration changes.</li>
<li>Separates data handling from UI components, promoting a clean architecture.</li>
<li>Simplifies testing by allowing developers to test ViewModel classes independently from UI components.</li>
</ul>
<h3 id="usage-1">Usage</h3>
<p>To create a ViewModel, extend the <code>ViewModel</code> class and expose your data through properties or methods. You can then obtain an instance of your ViewModel in your UI component using the <code>ViewModelProvider</code> class.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">CounterViewModel</span><span style="color:#F8F8F2"> : </span><span style="color:#A6E22E;text-decoration:underline">ViewModel</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#F92672">    private</span><span style="color:#66D9EF;font-style:italic"> var</span><span style="color:#F8F8F2"> _count </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> MutableLiveData</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">Int</span><span style="color:#F8F8F2">>(</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    val</span><span style="color:#F8F8F2"> count: </span><span style="color:#A6E22E;text-decoration:underline">LiveData</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">Int</span><span style="color:#F8F8F2">> </span><span style="color:#A6E22E;text-decoration:underline">get</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> _count</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    fun</span><span style="color:#A6E22E"> increment</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#F8F8F2">        _count.</span><span style="color:#F92672">value</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> _count.</span><span style="color:#F92672">value</span><span style="color:#F8F8F2">?.</span><span style="color:#A6E22E">plus</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">1</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">CounterActivity</span><span style="color:#F8F8F2"> : </span><span style="color:#A6E22E;text-decoration:underline">AppCompatActivity</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#F92672">    private</span><span style="color:#F92672"> lateinit</span><span style="color:#66D9EF;font-style:italic"> var</span><span style="color:#F8F8F2"> counterViewModel: </span><span style="color:#A6E22E;text-decoration:underline">CounterViewModel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">    override</span><span style="color:#66D9EF;font-style:italic"> fun</span><span style="color:#A6E22E"> onCreate</span><span style="color:#F8F8F2">(savedInstanceState: </span><span style="color:#A6E22E;text-decoration:underline">Bundle</span><span style="color:#F8F8F2">?) {</span></span>
<span class="line"><span style="color:#FD971F">        super</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">onCreate</span><span style="color:#F8F8F2">(savedInstanceState)</span></span>
<span class="line"><span style="color:#A6E22E">        setContentView</span><span style="color:#F8F8F2">(R.layout.activity_counter)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        counterViewModel </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> ViewModelProvider</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F">this</span><span style="color:#F8F8F2">).</span><span style="color:#A6E22E">get</span><span style="color:#F8F8F2">(CounterViewModel::</span><span style="color:#A6E22E">class</span><span style="color:#F8F8F2">.java)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        counterViewModel.count.</span><span style="color:#A6E22E">observe</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F">this</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">Observer</span><span style="color:#F8F8F2"> { count </span><span style="color:#66D9EF;font-style:italic">-></span></span>
<span class="line"><span style="color:#88846F">            // Update UI with the new count</span></span>
<span class="line"><span style="color:#F8F8F2">        })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">        // Increment the count on button click</span></span>
<span class="line"><span style="color:#A6E22E">        findViewById</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">Button</span><span style="color:#F8F8F2">>(R.id.increment_button).</span><span style="color:#A6E22E">setOnClickListener</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">            counterViewModel.</span><span style="color:#A6E22E">increment</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<h2 id="room-persistence-library">Room Persistence Library</h2>
<p><strong>Room</strong> is a persistence library that provides an abstraction layer over SQLite, helping developers create robust and maintainable database applications. It offers compile-time checks for SQL queries, reducing the risk of runtime errors, and simplifies database access by using annotations and Kotlin/Java objects.</p>
<h3 id="advantages-2">Advantages</h3>
<ul>
<li>Provides type-safe and compile-time checked SQL queries.</li>
<li>Reduces boilerplate code for database operations.</li>
<li>Easily integrates with other Architecture Components, such as LiveData and ViewModel.</li>
</ul>
<h3 id="usage-2">Usage</h3>
<p>To use Room, define your data entities as Kotlin/Java classes and annotate them with <code>@Entity</code>. Create a Data Access Object (DAO) interface for each entity, and annotate the interface with <code>@Dao</code>. Finally, define a Room database by extending the <code>RoomDatabase</code> class and annotating it with <code>@Database</code>. You can then build an instance of your Room database and use it to perform database operations.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#88846F">// Define the User entity</span></span>
<span class="line"><span style="color:#A6E22E;text-decoration:underline">@Entity</span></span>
<span class="line"><span style="color:#F92672">data</span><span style="color:#66D9EF;font-style:italic"> class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">User</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">@PrimaryKey</span><span style="color:#66D9EF;font-style:italic"> val</span><span style="color:#F8F8F2"> id: </span><span style="color:#A6E22E;text-decoration:underline">String</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    val</span><span style="color:#F8F8F2"> name: </span><span style="color:#A6E22E;text-decoration:underline">String</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    val</span><span style="color:#F8F8F2"> age: </span><span style="color:#A6E22E;text-decoration:underline">Int</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">// Create a DAO for the User entity</span></span>
<span class="line"><span style="color:#A6E22E;text-decoration:underline">@Dao</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">interface</span><span> </span><span style="color:#A6E22E;text-decoration:underline">UserDao</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">@Query</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"SELECT * FROM user WHERE id = :userId"</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    fun</span><span style="color:#A6E22E"> getUser</span><span style="color:#F8F8F2">(userId: </span><span style="color:#A6E22E;text-decoration:underline">String</span><span style="color:#F8F8F2">): </span><span style="color:#A6E22E;text-decoration:underline">LiveData</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">User</span><span style="color:#F8F8F2">></span></span>
<span class="line"></span>
<span class="line"><span>    </span><span style="color:#A6E22E;text-decoration:underline">@Insert</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">    fun</span><span style="color:#A6E22E"> insertUser</span><span style="color:#F8F8F2">(user: </span><span style="color:#A6E22E;text-decoration:underline">User</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">// Define the Room database</span></span>
<span class="line"><span style="color:#A6E22E;text-decoration:underline">@Database</span><span style="color:#F8F8F2">(entities </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> [User::</span><span style="color:#A6E22E">class</span><span style="color:#F8F8F2">], version </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> 1</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F92672">abstract</span><span style="color:#66D9EF;font-style:italic"> class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">AppDatabase</span><span style="color:#F8F8F2"> : </span><span style="color:#A6E22E;text-decoration:underline">RoomDatabase</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#F92672">    abstract</span><span style="color:#66D9EF;font-style:italic"> fun</span><span style="color:#A6E22E"> userDao</span><span style="color:#F8F8F2">(): </span><span style="color:#A6E22E;text-decoration:underline">UserDao</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">// Build an instance of the Room database</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">val</span><span style="color:#F8F8F2"> db </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> Room.</span><span style="color:#A6E22E">databaseBuilder</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">    context,</span></span>
<span class="line"><span style="color:#F8F8F2">    AppDatabase::</span><span style="color:#A6E22E">class</span><span style="color:#F8F8F2">.java,</span></span>
<span class="line"><span style="color:#E6DB74">    "app_database"</span></span>
<span class="line"><span style="color:#F8F8F2">).</span><span style="color:#A6E22E">build</span><span style="color:#F8F8F2">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">// Use the database instance to perform operations</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">val</span><span style="color:#F8F8F2"> userDao </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> db.</span><span style="color:#A6E22E">userDao</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">val</span><span style="color:#F8F8F2"> user </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> User</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"123"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"John Doe"</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">25</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">userDao.</span><span style="color:#A6E22E">insertUser</span><span style="color:#F8F8F2">(user)</span></span>
<span class="line"><span style="color:#F8F8F2">userDao.</span><span style="color:#A6E22E">getUser</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"123"</span><span style="color:#F8F8F2">).</span><span style="color:#A6E22E">observe</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F">this</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">Observer</span><span style="color:#F8F8F2"> { user </span><span style="color:#66D9EF;font-style:italic">-></span></span>
<span class="line"><span style="color:#88846F">    // Update UI with the new user data</span></span>
<span class="line"><span style="color:#F8F8F2">})</span></span></code></pre>
<h2 id="databinding">DataBinding</h2>
<p><strong>DataBinding</strong> is a support library that allows developers to bind UI components directly to data sources, reducing the need for boilerplate code to update the UI when data changes. It supports two-way data binding, meaning that changes in the UI can automatically update the data source, and vice versa.</p>
<h3 id="advantages-3">Advantages</h3>
<ul>
<li>Reduces boilerplate code for updating the UI.</li>
<li>Provides a clear separation of UI and data handling code.</li>
<li>Improves performance by minimizing UI updates and avoiding unnecessary operations.</li>
</ul>
<h3 id="usage-3">Usage</h3>
<p>To enable DataBinding in your project, add the following to your app’s <code>build.gradle</code> file:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">android {</span></span>
<span class="line"><span style="color:#F92672">    ..</span><span style="color:#F8F8F2">.</span></span>
<span class="line"><span style="color:#F8F8F2">    buildFeatures {</span></span>
<span class="line"><span style="color:#F8F8F2">        dataBinding </span><span style="color:#AE81FF">true</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>Next, wrap your layout XML with a <code>&#x3C;layout></code> tag and add <code>&#x3C;data></code> elements to define variables. In your UI component, use the generated binding class to inflate the layout and bind the data to the UI.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#88846F">&#x3C;!-- activity_main.xml --></span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#F92672">layout</span><span style="color:#A6E22E"> xmlns:android</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"http://schemas.android.com/apk/res/android"</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;</span><span style="color:#F92672">data</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">        &#x3C;</span><span style="color:#F92672">variable</span></span>
<span class="line"><span style="color:#A6E22E">            name</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"user"</span></span>
<span class="line"><span style="color:#A6E22E">            type</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"com.example.User"</span><span style="color:#F8F8F2"> /></span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;/</span><span style="color:#F92672">data</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;</span><span style="color:#F92672">LinearLayout</span></span>
<span class="line"><span style="color:#A6E22E">        android:layout_width</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"match_parent"</span></span>
<span class="line"><span style="color:#A6E22E">        android:layout_height</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"match_parent"</span></span>
<span class="line"><span style="color:#A6E22E">        android:orientation</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"vertical"</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">        &#x3C;</span><span style="color:#F92672">TextView</span></span>
<span class="line"><span style="color:#A6E22E">            android:id</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"@+id/user_name"</span></span>
<span class="line"><span style="color:#A6E22E">            android:layout_width</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"wrap_content"</span></span>
<span class="line"><span style="color:#A6E22E">            android:layout_height</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"wrap_content"</span></span>
<span class="line"><span style="color:#A6E22E">            android:text</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"@{user.name}"</span><span style="color:#F8F8F2"> /></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        &#x3C;</span><span style="color:#F92672">TextView</span></span>
<span class="line"><span style="color:#A6E22E">            android:id</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"@+id/user_age"</span></span>
<span class="line"><span style="color:#A6E22E">            android:layout_width</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"wrap_content"</span></span>
<span class="line"><span style="color:#A6E22E">            android:layout_height</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"wrap_content"</span></span>
<span class="line"><span style="color:#A6E22E">            android:text</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"@{Integer.toString(user.age)}"</span><span style="color:#F8F8F2"> /></span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;/</span><span style="color:#F92672">LinearLayout</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#F92672">layout</span><span style="color:#F8F8F2">></span></span></code></pre>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">MainActivity</span><span style="color:#F8F8F2"> : </span><span style="color:#A6E22E;text-decoration:underline">AppCompatActivity</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#F92672">    private</span><span style="color:#F92672"> lateinit</span><span style="color:#66D9EF;font-style:italic"> var</span><span style="color:#F8F8F2"> binding: </span><span style="color:#A6E22E;text-decoration:underline">ActivityMainBinding</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">    override</span><span style="color:#66D9EF;font-style:italic"> fun</span><span style="color:#A6E22E"> onCreate</span><span style="color:#F8F8F2">(savedInstanceState: </span><span style="color:#A6E22E;text-decoration:underline">Bundle</span><span style="color:#F8F8F2">?) {</span></span>
<span class="line"><span style="color:#FD971F">        super</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">onCreate</span><span style="color:#F8F8F2">(savedInstanceState)</span></span>
<span class="line"><span style="color:#F8F8F2">        </span></span>
<span class="line"><span style="color:#88846F">        // Inflate the layout using DataBindingUtil</span></span>
<span class="line"><span style="color:#F8F8F2">        binding </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> DataBindingUtil.</span><span style="color:#A6E22E">setContentView</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F">this</span><span style="color:#F8F8F2">, R.layout.activity_main)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">        // Bind the data to the UI</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">        val</span><span style="color:#F8F8F2"> user </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> User</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">"123"</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">"John Doe"</span><span style="color:#F8F8F2">, </span><span style="color:#AE81FF">25</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        binding.user </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> user</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<h2 id="workmanager">WorkManager</h2>
<p><strong>WorkManager</strong> is a library for managing deferrable, guaranteed background work in Android applications. It takes care of compatibility issues and provides a clean API for scheduling tasks, even when the app is not running or the device is rebooted. WorkManager chooses the best way to run your tasks, depending on factors such as the device’s API level and the app’s constraints.</p>
<h3 id="advantages-4">Advantages</h3>
<ul>
<li>Simplifies background task scheduling and execution.</li>
<li>Ensures tasks are executed, even when the app is not running or the device is rebooted.</li>
<li>Handles compatibility and API level differences gracefully.</li>
</ul>
<h3 id="usage-4">Usage</h3>
<p>To use WorkManager, create a class that extends <code>Worker</code> and override the <code>doWork()</code> method. This method contains the code that will be executed when your task is run. You can then create a <code>WorkRequest</code> to schedule your task, and a <code>WorkManager</code> instance to enqueue the request.</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#88846F">// Define a Worker class</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">MyWorker</span><span style="color:#F8F8F2">(context: </span><span style="color:#A6E22E;text-decoration:underline">Context</span><span style="color:#F8F8F2">, workerParams: </span><span style="color:#A6E22E;text-decoration:underline">WorkerParameters</span><span style="color:#F8F8F2">) :</span></span>
<span class="line"><span style="color:#A6E22E">    Worker</span><span style="color:#F8F8F2">(context, workerParams) {</span></span>
<span class="line"><span style="color:#F92672">    override</span><span style="color:#66D9EF;font-style:italic"> fun</span><span style="color:#A6E22E"> doWork</span><span style="color:#F8F8F2">(): </span><span style="color:#A6E22E;text-decoration:underline">Result</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#88846F">        // Perform your background task here</span></span>
<span class="line"><span style="color:#F92672">        return</span><span style="color:#F8F8F2"> Result.</span><span style="color:#A6E22E">success</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">// Schedule a task using WorkManager</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">val</span><span style="color:#F8F8F2"> workRequest</span></span></code></pre> </astro-slot></content></div><div id="comments"></div></div></div></div><!--astro:end--></astro-island> <div class="mx-auto mt-5 max-w-prose flex justify-between gap-4 border-t border-gray-700 pt-8 text-sm text-gray-400 dark:text-gray-500"> <div class="w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Previous</div> <a class="text-blue-400 hover:underline" href="/posts/tech/js/what_is_a_package_json_file"> What is a package.json file in javascript </a> </div> <div class="text-right w-full sm:w-[48%] xl:w-auto"> <div class="text-xs uppercase">Next</div> <a class="text-blue-400 hover:underline" href="/posts/tech/2023/A_Guide_to_Using_Python-telegram-bot_in_Python"> A Guide to Using Python-telegram-bot in Python </a> </div> </div><div class="mt-6 text-center"> <a href="/posts" class="text-blue-400 hover:underline text-sm">
&larr; Back to blog
</a> </div> <astro-island uid="1KiplR" prefix="r0" component-url="/_astro/ScrollButtons.BdAHGQrx.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ScrollButtons&quot;,&quot;value&quot;:true}" await-children=""><div class="fixed bottom-8 right-8 z-50 flex flex-col gap-3 opacity-0 transition-opacity duration-300"><button aria-label="Scroll to comments" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll to top" class="rounded-full bg-gray-200 p-2 text-gray-600 shadow-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><!--astro:end--></astro-island>  </div> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2025<!-- --> by <!-- -->Dhanushka&#x27;s Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/dhanushka2001" target="_blank" rel="noopener noreferrer">Dhanushka</a>. Last updated on <!-- -->2025-07-11<!-- -->.</div></div></div> </body></html>